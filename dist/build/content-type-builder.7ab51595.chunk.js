(self.webpackChunksmarthomedoctor_strapi=self.webpackChunksmarthomedoctor_strapi||[]).push([[8880],{66848:(W,q,r)=>{"use strict";r.d(q,{Z:()=>Mt});var t=r(67294),h=r(71893),S=r(45697),v=r.n(S),f=r(41580),B=r(85038),T=r(85893);function j(Te){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Te,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,T.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082zM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782z",fill:"#fff"})]})}var Z=r(34668),n=r(14484),b=r(65531),V=r(73145),Ce=r(82574),ue=r(60133);function ce(Te){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Te,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,T.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 00-.138-.302A.465.465 0 0018.82 8h-8.357a.465.465 0 00-.326.127.397.397 0 00-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 00.327-.127.397.397 0 00.138-.301zm2.785 2.713v.857a.397.397 0 01-.137.301.465.465 0 01-.327.128H10.464a.465.465 0 01-.326-.128.397.397 0 01-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 01.326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 01.137.302zm-1.857 3.574v.857a.397.397 0 01-.137.302.465.465 0 01-.327.127h-9.286a.465.465 0 01-.326-.127.397.397 0 01-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 01.326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 01.138.301z",fill:"#0C75AF"})]})}var ee=r(74525);function ie(Te){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Te,children:[(0,T.jsx)("path",{d:"M.5 3A2.5 2.5 0 013 .5h26A2.5 2.5 0 0131.5 3v18a2.5 2.5 0 01-2.5 2.5H3A2.5 2.5 0 01.5 21V3z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,T.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 012.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 00.433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 00-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887z",fill:"#D9822F"})]})}var me=r(48394);function ye(Te){return(0,T.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...Te,children:[(0,T.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,T.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71zM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781z",fill:"#fff"})]})}var u=r(21210),oe=r(3963),pe=r(31666),k=r(68547);const tt={biginteger:pe.Z,boolean:n.Z,collectionType:j,component:B.Z,contentType:j,date:Z.Z,datetime:Z.Z,decimal:pe.Z,dynamiczone:b.Z,email:V.Z,enum:Ce.Z,enumeration:Ce.Z,file:ee.Z,files:ee.Z,float:pe.Z,integer:pe.Z,json:ue.Z,JSON:ue.Z,media:ee.Z,number:pe.Z,password:ie,relation:me.Z,richtext:ce,singleType:ye,string:u.Z,text:u.Z,time:Z.Z,timestamp:Z.Z,uid:oe.Z},nt=(0,h.default)(f.x)`
  width: ${(0,k.pxToRem)(32)};
  height: ${(0,k.pxToRem)(24)};
  box-sizing: content-box;
`,He=({type:Te,customField:ze,...R})=>{const w=(0,k.useCustomFields)();let Ee=tt[Te];if(ze){const{icon:we}=w.get(ze);we&&(Ee=we)}return tt[Te]?t.createElement(nt,{as:Ee,...R,"aria-hidden":!0}):null};He.defaultProps={customField:null},He.propTypes={type:v().string.isRequired,customField:v().string};const Mt=He},7955:(W,q,r)=>{"use strict";r.d(q,{Z:()=>S});var t=r(67294);const S=(0,t.createContext)()},98422:(W,q,r)=>{"use strict";r.d(q,{Z:()=>S});var t=r(67294);const S=(0,t.createContext)()},13588:(W,q,r)=>{"use strict";r.d(q,{Z:()=>v});var t=r(67294),h=r(7955);const v=()=>(0,t.useContext)(h.Z)},26478:(W,q,r)=>{"use strict";r.d(q,{Z:()=>v});var t=r(67294),h=r(98422);const v=()=>(0,t.useContext)(h.Z)},87863:(W,q,r)=>{"use strict";r.r(q),r.d(q,{default:()=>Br});var t=r(67294),h=r(49656),S=r(15482),v=r(97132),f=r(68547),B=r(17034),T=r(57176),j=r(96124),Z=r(45697),n=r.n(Z),b=r(96486),V=r(37424),Ce=r(35281),ue=r(7955),ce=r(26478),ee=r(11817);const ie=ee.Z.create({baseURL:`/${j.Z}`});ie.interceptors.request.use(async e=>(e.headers={Authorization:`Bearer ${f.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e),e=>{Promise.reject(e)}),ie.interceptors.response.use(e=>e,e=>{throw e.response?.status===401&&(f.auth.clearAppStorage(),window.location.reload()),e});const ye=(0,f.wrapAxiosInstance)(ie);var u=r(5002),oe=r(85169),pe=r(27361),k=r.n(pe),tt=r(18721),nt=r.n(tt),He=r(36968),Mt=r.n(He),Te=r(7334),ze=r.n(Te),R=r(41580),w=r(29728),Ee=r(70004),we=r(42866),Se=r(59946),xt=r(36856),Dt=r(82777),Je=r(60633),Pe=r(42761),he=r(11047),xe=r(7681),Ge=r(13588),It=r(38953),$t=r(11700),Be=r.n($t);const Xt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],mt=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:s}=(0,v.useIntl)(),l=i===null||i.length===0?s({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>Be()(c)).join(", "),d=e.id?s({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(It.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?o({target:{name:a,value:c,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:Xt,value:i||[]})};mt.defaultProps={value:null},mt.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().object,n().array])};const Yt=mt;var ne=r(75515);const We=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Rt=r(11276),pt=r(74571),Re=r(17373),dt=r(66848),De=r(71893);const Ie=(0,De.default)(R.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,gt=({type:e})=>{const{formatMessage:a}=(0,v.useIntl)(),{onClickSelectField:o}=(0,ce.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(Ie,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(he.k,null,t.createElement(dt.Z,{type:e}),t.createElement(R.x,{paddingLeft:4},t.createElement(he.k,null,t.createElement(ne.Z,{fontWeight:"bold"},a({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(he.k,null,t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};gt.defaultProps={type:"text"},gt.propTypes={type:n().string};const Qe=gt,Ae=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},ut=({attributes:e})=>t.createElement(Re.k,{tagName:"button"},t.createElement(xe.K,{spacing:8},e.map((a,o)=>t.createElement(Rt.r,{key:o,gap:0},a.map((i,s)=>{const{paddingLeft:l,paddingRight:d}=Ae(s);return t.createElement(pt.P,{key:i,col:6,style:{height:"100%"}},t.createElement(R.x,{paddingLeft:l,paddingRight:d,paddingBottom:1,style:{height:"100%"}},t.createElement(Qe,{type:i})))})))));ut.propTypes={attributes:n().array.isRequired};const at=ut;var ft=r(23620),Ke=r(92577),At=r(78474),Qt=r(21817);const jt=(0,De.default)(Qt.G)`
  padding: ${({theme:e,size:a})=>`${a==="S"?e.spaces[2]:"10px"} ${e.spaces[4]}`};
  background: ${({theme:e})=>e.colors.buttonPrimary600};
  border: 1px solid ${({theme:e})=>e.colors.buttonPrimary600};
  border-radius: ${({theme:e})=>e.borderRadius};
  ${R.x} {
    display: flex;
    align-items: center;
  }
  ${ne.Z} {
    color: ${({theme:e})=>e.colors.buttonNeutral0};
  }
  &[aria-disabled='true'] {
    ${Ke.sg}
    &:active {
      ${Ke.sg}
    }
  }
  &:hover {
    ${Ke.yP}
  }
  &:active {
    ${Ke.tB}
  }
  ${Ke.PD}
  /**
    Link specific properties
  */
  display: inline-flex;
  text-decoration: none;
  pointer-events: ${({disabled:e})=>e?"none":void 0};
`,Ze=t.forwardRef(({variant:e,startIcon:a,endIcon:o,disabled:i,children:s,size:l,href:d,to:c,...p},y)=>{const g=d?"_blank":void 0,m=d?"noreferrer noopener":void 0;return t.createElement(jt,{ref:y,"aria-disabled":i,size:l,variant:e,target:g,rel:m,to:i?void 0:c,href:i?"#":d,...p,as:c&&!i?h.NavLink:"a"},a&&t.createElement(R.x,{"aria-hidden":!0,paddingRight:2},a),l==="S"?t.createElement(ne.Z,{variant:"pi",fontWeight:"bold"},s):t.createElement(ne.Z,{fontWeight:"bold"},s),o&&t.createElement(R.x,{"aria-hidden":!0,paddingLeft:2},o))});Ze.displayName="LinkButton",Ze.defaultProps={disabled:!1,startIcon:void 0,endIcon:void 0,size:"S",variant:"default",onClick:void 0,href:void 0,to:void 0},Ze.propTypes={children:Z.node.isRequired,disabled:Z.bool,endIcon:Z.element,href(e){if(!e.disabled&&!e.to&&!e.href)return new Error("href must be defined")},onClick:Z.func,size:Z.oneOf(At.Gt),startIcon:Z.element,to(e){if(!e.disabled&&!e.href&&!e.to)return new Error("to must be defined")},variant:Z.oneOf(At.ZC)};var yt=r(52624),_e=r(96315),zt=r(86031);const _t=(0,De.default)(R.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,en=()=>t.createElement(he.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(_t,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),et=()=>{const{formatMessage:e}=(0,v.useIntl)();return t.createElement(R.x,{position:"relative"},t.createElement(en,null),t.createElement(R.x,{position:"absolute",top:6,width:"100%"},t.createElement(he.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(yt.J,{as:zt.default,color:"",width:"160px",height:"88px"}),t.createElement(R.x,{paddingTop:6,paddingBottom:4},t.createElement(R.x,{textAlign:"center"},t.createElement(ne.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(R.x,{paddingTop:4},t.createElement(ne.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(Ze,{to:"/marketplace",variant:"secondary",startIcon:t.createElement(_e.default,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Bt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:i,intlDescription:s}=a,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:d}=(0,ce.Z)(),c=()=>{d({attributeType:o,customFieldUid:e})};return t.createElement(Ie,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},t.createElement(he.k,null,t.createElement(dt.Z,{type:o,customField:e}),t.createElement(R.x,{paddingLeft:4},t.createElement(he.k,null,t.createElement(ne.Z,{fontWeight:"bold"},l(i))),t.createElement(he.k,null,t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},l(s))))))};Bt.propTypes={customFieldUid:n().string.isRequired,customField:n().shape({type:n().string.isRequired,icon:n().func,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,intlDescription:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired}).isRequired};const kt=Bt,Xe=()=>{const{formatMessage:e}=(0,v.useIntl)(),a=(0,f.useCustomFields)(),o=Object.entries(a.getAll());if(!o.length)return t.createElement(et,null);const i=o.sort((s,l)=>s[1].name>l[1].name?1:-1);return t.createElement(Re.k,{tagName:"button"},t.createElement(xe.K,{spacing:3},t.createElement(Rt.r,{gap:0},i.map(([s,l],d)=>{const{paddingLeft:c,paddingRight:p}=Ae(d);return t.createElement(pt.P,{key:s,col:6,style:{height:"100%"}},t.createElement(R.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(kt,{key:s,customFieldUid:s,customField:l})))})),t.createElement(ft.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},qt=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,v.useIntl)(),s=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),d=a.includes("component")?"component":o,c=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${d}`);return t.createElement(Se.f,{padding:6},t.createElement(Dt.v,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(he.k,{justifyContent:"space-between"},t.createElement(ne.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),t.createElement(Je.m,null,t.createElement(Je.O,null,i({id:s,defaultMessage:"Default"})),t.createElement(Je.O,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(R.x,{paddingBottom:6},t.createElement(Ee.i,null)),t.createElement(Pe.n,null,t.createElement(Pe.x,null,t.createElement(at,{attributes:e})),t.createElement(Pe.x,null,t.createElement(Xe,null)))))};qt.propTypes={attributes:n().array.isRequired,forTarget:n().string.isRequired,kind:n().string.isRequired};const tn=qt;var nn=r(28702);const Zt=({description:e,disabled:a,intlLabel:o,isCreating:i,name:s,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),[p,y]=(0,t.useState)(!1),g=o.id?c({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):s,m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=()=>y(z=>!z),x=()=>{l({target:{name:s,value:!1}}),A()},I=({target:{checked:z}})=>{if(!z&&!i){A();return}l({target:{name:s,value:z}})};return t.createElement(t.Fragment,null,t.createElement(nn.Checkbox,{checked:d,disabled:a,hint:m,name:s,onChange:I},g),t.createElement(f.ConfirmDialog,{isOpen:p,onToggleDialog:A,onConfirm:x,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Zt.defaultProps={description:null,disabled:!1,value:!1},Zt.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isCreating:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().bool};const an=Zt;var Y=r(2407),ge=r(24969);const $e=({actionType:e,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:s,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:p,customFieldUid:y})=>{const{formatMessage:g}=(0,v.useIntl)(),{modifiedData:m}=(0,Ge.Z)();let A,x=[];const I=m?.[d]?.[p]||m?.[d]||null;let z=I?.schema.displayName;if(c==="contentType"&&(A=s),["component","editCategory"].includes(c)&&(A="component"),["component","contentType"].includes(c)){let M=(0,u.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(M=(0,u.Z)(`modalForm.${s}.header-create`)),e==="edit"&&(M=(0,u.Z)("modalForm.header-edit")),t.createElement(ge.x,null,t.createElement(he.k,null,t.createElement(R.x,null,t.createElement(dt.Z,{type:A})),t.createElement(R.x,{paddingLeft:3},t.createElement(ne.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:M},{name:z})))))}x=[{label:z,info:{category:I?.category||null,name:I?.schema.displayName}}],c==="chooseAttribute"&&(A=["component","components"].includes(d)?"component":I.schema.kind),c==="addComponentToDynamicZone"&&(A="dynamiczone",x.push({label:l})),(c==="attribute"||c==="customField")&&(A=o,x.push({label:a})),c==="editCategory"&&(x=[{label:g({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const F=x.map(({label:M})=>M).join(",");return t.createElement(ge.x,null,t.createElement(xe.K,{horizontal:!0,spacing:3},t.createElement(dt.Z,{type:A,customField:y}),t.createElement(Y.O,{label:F},x.map((M,N)=>{const X=Be()(M.label);if(!X)return null;const te=`${M.label}.${N}`;if(M.info?.category){const fe=`${X} (${Be()(M.info.category)} - ${Be()(M.info.name)})`;return t.createElement(Y.$,{key:te},fe)}return t.createElement(Y.$,{key:te},X)}))))};$e.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},$e.propTypes={actionType:n().string,attributeName:n().string,attributeType:n().string,categoryName:n().string,contentTypeKind:n().string,dynamicZoneTarget:n().string,forTarget:n().oneOf(["contentType","component","components"]),modalType:n().string.isRequired,targetUid:n().string,customFieldUid:n().string};const ot=$e,on=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:s,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:g,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:A,isCreatingContentType:x,isCreatingDz:I,isComponentModal:z,isDzAttribute:G,isEditingAttribute:F,isEditingCategory:M,isInFirstComponentStep:N,onSubmitAddComponentAttribute:X,onSubmitAddComponentToDz:te,onSubmitCreateContentType:fe,onSubmitCreateComponent:U,onSubmitCreateDz:le,onSubmitEditAttribute:_,onSubmitEditCategory:ct,onSubmitEditComponent:se,onSubmitEditContentType:J,onSubmitEditCustomFieldAttribute:de,onSubmitEditDz:Lt,onClickFinish:st})=>{const{formatMessage:ae}=(0,v.useIntl)();return c?m?t.createElement(w.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),te(O,!0)},startIcon:t.createElement(_e.default,null)},ae({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(w.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),te(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"})):s&&G&&!I?t.createElement(w.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),st(),Lt(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"})):s&&G&&I?t.createElement(t.Fragment,null,t.createElement(w.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),le(O,!0)},startIcon:t.createElement(_e.default,null)},ae({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&d?N?t.createElement(w.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),X(O,!0)}},ae(g?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(w.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),X(O,!0)},startIcon:t.createElement(_e.default,null)},ae(A?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(w.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),st(),X(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"}))):s&&!d&&!G?t.createElement(t.Fragment,null,t.createElement(w.z,{type:F?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),_(O,!0)},startIcon:t.createElement(_e.default,null)},ae({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(w.z,{type:F?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),st(),_(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!x&&t.createElement(t.Fragment,null,t.createElement(w.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),i()}},ae({id:"global.delete",defaultMessage:"Delete"})),t.createElement(w.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),J(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"}))),x&&t.createElement(w.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),fe(O,!0)}},ae({id:"global.continue",defaultMessage:"Continue"}))):z?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(w.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},ae({id:"global.delete",defaultMessage:"Delete"})),t.createElement(w.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),se(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(w.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),U(O,!0)}},ae({id:"global.continue",defaultMessage:"Continue"}))):M?t.createElement(t.Fragment,null,t.createElement(w.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(e)}},ae({id:"global.delete",defaultMessage:"Delete"})),t.createElement(w.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),ct(O)}},ae({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(w.z,{type:F?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),de(O,!0)},startIcon:t.createElement(_e.default,null)},ae({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(w.z,{type:F?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),st(),de(O,!1)}},ae({id:"global.finish",defaultMessage:"Finish"}))):null};on.defaultProps={categoryName:null,onClickFinish(){}},on.propTypes={categoryName:n().string,deleteCategory:n().func.isRequired,deleteComponent:n().func.isRequired,deleteContentType:n().func.isRequired,isAttributeModal:n().bool.isRequired,isCustomFieldModal:n().bool.isRequired,isComponentAttribute:n().bool.isRequired,isComponentModal:n().bool.isRequired,isComponentToDzModal:n().bool.isRequired,isContentTypeModal:n().bool.isRequired,isCreatingComponent:n().bool.isRequired,isCreatingComponentAttribute:n().bool.isRequired,isCreatingComponentInDz:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,isCreatingContentType:n().bool.isRequired,isCreatingDz:n().bool.isRequired,isDzAttribute:n().bool.isRequired,isEditingAttribute:n().bool.isRequired,isEditingCategory:n().bool.isRequired,isInFirstComponentStep:n().bool.isRequired,onSubmitAddComponentAttribute:n().func.isRequired,onSubmitAddComponentToDz:n().func.isRequired,onSubmitCreateContentType:n().func.isRequired,onSubmitCreateComponent:n().func.isRequired,onSubmitCreateDz:n().func.isRequired,onSubmitEditAttribute:n().func.isRequired,onSubmitEditCategory:n().func.isRequired,onSubmitEditComponent:n().func.isRequired,onSubmitEditContentType:n().func.isRequired,onSubmitEditCustomFieldAttribute:n().func.isRequired,onSubmitEditDz:n().func.isRequired,onClickFinish:n().func};const wa=on,Wa=({modalType:e,forTarget:a,kind:o,actionType:i,step:s})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${s!=="null"&&s!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},rn=({actionType:e,modalType:a,forTarget:o,kind:i,step:s,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:p}=(0,v.useIntl)(),y=a==="customField"?c.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(xe.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(ne.Z,{as:"h2",variant:"beta"},p({id:Wa({actionType:e,forTarget:o,kind:i,step:s,modalType:a}),defaultMessage:"Add new field"},{type:Be()(p(y)),name:Be()(d),step:s})),t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};rn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},rn.propTypes={actionType:n().string,modalType:n().string,forTarget:n().string,kind:n().string,step:n().string,attributeType:n().string,attributeName:n().string,customField:n().object};const Ka=rn;var wt=r(91216),Wt=r(82562);const sn=({intlLabel:e,name:a,options:o,onChange:i,value:s})=>{const{formatMessage:l}=(0,v.useIntl)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,c=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return t.createElement(wt.P,{label:d,id:a,name:a,onChange:c,value:(s===null?"":s).toString()},o.map(({metadatas:{intlLabel:p,disabled:y,hidden:g},key:m,value:A})=>t.createElement(Wt.W,{key:m,value:A,disabled:y,hidden:g},p.defaultMessage)))};sn.defaultProps={value:null},sn.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().any};const Va=sn;var Ha=r(15585);const Ga=(0,De.default)(xe.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ha.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${ne.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,ln=({intlLabel:e,name:a,onChange:o,radios:i,value:s})=>{const{formatMessage:l}=(0,v.useIntl)();return t.createElement(xe.K,{spacing:2},t.createElement(ne.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},l(e)),t.createElement(Ga,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(d=>t.createElement("label",{htmlFor:d.value.toString(),key:d.value,className:"container"},t.createElement("input",{id:d.value.toString(),name:a,className:"option-input",checked:d.value===s,value:d.value,key:d.value,onChange:o,type:"radio"}),t.createElement(R.x,{className:"option",padding:4},t.createElement(he.k,null,t.createElement(R.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(xe.K,{spacing:2},t.createElement(ne.Z,{fontWeight:"bold"},l(d.title)),t.createElement(ne.Z,{variant:"pi",textColor:"neutral600"},l(d.description)))))))))};ln.defaultProps={radios:[]},ln.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,radios:n().arrayOf(n().shape({title:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}),value:n().any.isRequired})),value:n().oneOfType([n().string,n().bool]).isRequired};const dn=ln,Gn=({onChange:e,name:a,...o})=>{const i=s=>{const l=s.target.value!=="false";e({target:{name:a,value:l,type:"boolean-radio-group"}})};return t.createElement(dn,{...o,name:a,onChange:i})};Gn.propTypes={name:n().string.isRequired,onChange:n().func.isRequired};const Xa=Gn;var Ya=r(36213),un=r(41363),Xn=r(99216),Ja=r(54574),Qa=r(64777),_a=r(45377),eo=r(63428),to=r(96404),no=r(75228),Yn=r(41762),Jn=r(7801);const Qn="en-EN",ao=()=>typeof navigator>"u"?Qn:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:Qn;var _n=r(98402);function oo({prop:e,defaultProp:a,onChange:o=()=>{}}){const[i,s]=ro({defaultProp:a,onChange:o}),l=e!==void 0,d=typeof e=="function"?e(i):e,c=l?d:i,p=(0,_n.useCallbackRef)(o),y=t.useCallback(g=>{if(l){const m=typeof g=="function"?g(d):g;m!==d&&(p(m),s(g))}else s(g)},[l,d,s,p]);return[c,y]}function ro({defaultProp:e,onChange:a}){const o=t.useState(e),[i]=o,s=t.useRef(i),l=(0,_n.useCallbackRef)(a);return t.useEffect(()=>{s.current!==i&&(l(i),s.current=i)},[i,s,l]),o}const ea=De.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,so="",Kt=t.forwardRef(({size:e,startAction:a,name:o,hint:i,error:s,label:l,labelAction:d,locale:c,id:p,onValueChange:y,value:g,step:m,required:A,disabled:x,...I},z)=>{const G=(0,Yn.M)("numberinput",p),F=c||ao(),M=(0,t.useRef)(new Xn.NumberParser(F,{style:"decimal"})),N=(0,t.useRef)(new Xn.NumberFormatter(F,{maximumFractionDigits:20})),[X,te]=oo({prop(J){const de=String(g);return isNaN(de)||de!==J&&J!==""?J:de},defaultProp:so,onChange(J){const de=M.current.parse(J);y(isNaN(de)?void 0:de)}}),fe=J=>{te(String(J))},U=({target:{value:J}})=>{M.current.isValidPartialNumber(J)&&fe(J)},le=()=>{if(!X){fe(m);return}const J=M.current.parse(X),de=isNaN(J)?m:J+m;fe(N.current.format(de))},_=()=>{if(!X){fe(-m);return}const J=M.current.parse(X),de=isNaN(J)?-m:J-m;fe(N.current.format(de))},ct=J=>{if(!x)switch(J.key){case Jn.y.DOWN:{J.preventDefault(),_();break}case Jn.y.UP:{J.preventDefault(),le();break}}},se=()=>{if(X){const J=M.current.parse(X),de=isNaN(J)?"":N.current.format(J);fe(de)}};return t.createElement(Ja.g,{name:o,hint:i,error:s,id:G,required:A},t.createElement(xe.K,{spacing:1},l&&t.createElement(Qa.Q,{action:d},l),t.createElement(_a._,{ref:z,startAction:a,disabled:x,type:"text",inputmode:"decimal",onChange:U,onKeyDown:ct,onBlur:se,value:X,size:e,endAction:t.createElement(t.Fragment,null,t.createElement(ea,{disabled:x,"aria-hidden":!0,reverse:!0,onClick:le,tabIndex:-1,type:"button","data-testid":"ArrowUp"},t.createElement(yt.J,{as:un.CarretDown,color:"neutral500"})),t.createElement(ea,{disabled:x,"aria-hidden":!0,onClick:_,tabIndex:-1,type:"button","data-testid":"ArrowDown"},t.createElement(yt.J,{as:un.CarretDown,color:"neutral500"}))),...I}),t.createElement(eo.J,null),t.createElement(to.c,null)))});Kt.displayName="NumberInput",Kt.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},Kt.propTypes={"aria-label":Z.string,disabled:Z.bool,error:Z.string,hint:Z.oneOfType([Z.string,Z.node,Z.arrayOf(Z.node)]),id:Z.string,label:Z.string,labelAction:Z.element,locale:Z.string,name:Z.string.isRequired,onValueChange:Z.func.isRequired,required:Z.bool,size:Z.oneOf(Object.keys(no.J.input)),startAction:Z.element,step:Z.number,value:Z.number};var cn=r(16364);const mn=({error:e,intlLabel:a,modifiedData:o,name:i,onChange:s,value:l})=>{const{formatMessage:d}=(0,v.useIntl)(),[c,p]=(0,t.useState)(!!l||l===0),y=a.id?d({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,g=o.type==="biginteger"?"text":"number",m=!o.type,A=e?d({id:e,defaultMessage:e}):"";return t.createElement(xe.K,{spacing:2},t.createElement(Ya.X,{id:i,name:i,onValueChange:x=>{s({target:{name:i,value:x?g==="text"?"0":0:null}}),p(G=>!G)},value:c},y),c&&t.createElement(R.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?t.createElement(cn.o,{"aria-label":y,disabled:m,error:A,id:i,name:i,onChange:s,value:l===null?"":l}):t.createElement(Kt,{"aria-label":y,disabled:m,error:A,id:i,name:i,onValueChange:x=>{s({target:{name:i,value:x,type:g}})},value:l||0})))};mn.defaultProps={error:null,value:null},mn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().oneOfType([n().string,n().object,n().bool,n().number])};const io=mn,ta=({onChange:e,...a})=>{const o=(0,f.useNotification)(),i=s=>{o({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(s)};return t.createElement(dn,{...a,onChange:i})};ta.propTypes={onChange:n().func.isRequired};const lo=ta;var pn=r(1734),na=r(17205),be=r(59015);const gn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,Ge.Z)(),s=(0,V.useDispatch)(),l=i.filter(We),d=k()(o,[a,"plugin"],null),c=k()(o,[a,"schema","displayName"],"error");return t.createElement(na.O,{id:"label",label:`${c}
    ${d?`(from: ${d})`:""}`},l.map(({uid:p,title:y,restrictRelationsTo:g,plugin:m})=>{const A=()=>{const x=m?`${m}_${y}`:y;s({type:be.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:x,targetContentTypeAllowedRelations:g}})};return t.createElement(na.s,{key:p,onClick:A},y,"\xA0",m&&t.createElement(t.Fragment,null,"(from: ",m,")"))}))};gn.defaultProps={target:null},gn.propTypes={oneThatIsCreatingARelationWithAnother:n().string.isRequired,target:n().string};const uo=gn,fn=({disabled:e,error:a,header:o,isMain:i,name:s,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:p})=>t.createElement(R.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(he.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(ne.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(uo,{target:c,oneThatIsCreatingARelationWithAnother:d})),t.createElement(Ee.i,{background:"neutral200"}),t.createElement(R.x,{padding:4},t.createElement(f.GenericInput,{disabled:e,error:a?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:l,type:"text",value:p})));fn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},fn.propTypes={disabled:n().bool,error:n().object,header:n().string,isMain:n().bool,name:n().string.isRequired,onChange:n().func,oneThatIsCreatingARelationWithAnother:n().string,target:n().string,value:n().string};const aa=fn;var co=r(39138),oa=r.n(co),mo=r(23450),yn=r.n(mo),re=r(85893);function po(e){return(0,re.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,re.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44z",fill:"#212134"})]})}function go(e){return(0,re.jsx)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 110-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128zM6 11.6a2.4 2.4 0 11-4.8 0 2.4 2.4 0 014.8 0z",fill:"#212134"})})}function fo(e){return(0,re.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,re.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44z",fill:"#212134"}),(0,re.jsx)("path",{d:"M5.872 10.43l8.347-6.176.86 1.163-8.347 6.176-.86-1.162zM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167zM18.72 8.613l5.28 3.12-5.28 3.12v-6.24z",fill:"#212134"}),(0,re.jsx)("path",{d:"M12.72 2.633L18.82 2 16.43 7.649 12.72 2.633zM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016z",fill:"#212134"})]})}function yo(e){return(0,re.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,re.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,re.jsx)("path",{d:"M5.871 10.699l8.347-6.176.86 1.162-8.347 6.177-.86-1.163zM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167z",fill:"#212134"}),(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 14.399a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM16.8 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"})]})}function ho(e){return(0,re.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,re.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44z",fill:"#212134"}),(0,re.jsx)("path",{d:"M18.129 10.699L9.782 4.523l-.86 1.162 8.347 6.177.86-1.163zM18.101 13.354L9.755 19.53l-.864-1.167 8.347-6.176.863 1.167z",fill:"#212134"}),(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 14.399a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM7.2 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"})]})}function bo(e){return(0,re.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM3.6 14.4a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 22.8a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2zM20.4 6a2.4 2.4 0 100-4.8 2.4 2.4 0 000 4.8zm0 1.2a3.6 3.6 0 100-7.2 3.6 3.6 0 000 7.2z",fill:"#212134"}),(0,re.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44z",fill:"#212134"}),(0,re.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2zM3.6 6a2.4 2.4 0 110-4.8 2.4 2.4 0 010 4.8zm0 1.2a3.6 3.6 0 110-7.2 3.6 3.6 0 010 7.2z",fill:"#212134"}),(0,re.jsx)("path",{d:"M18.328 13.863L6.49 19.765l-.652-1.307 11.838-5.902.652 1.307zM18.358 10.078L6.398 4.115l-.646 1.294 11.961 5.963.645-1.294z",fill:"#212134"}),(0,re.jsx)("path",{d:"M18.323 18.83L6.252 12.813l-.643 1.29 12.071 6.019.643-1.29zM18.136 5.228L6.207 11.176l-.653-1.311 11.928-5.948.654 1.311z",fill:"#212134"})]})}const vo=(0,De.default)(R.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Co=(0,De.default)(R.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,To=(0,De.default)(he.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Eo={oneWay:go,oneToOne:po,oneToMany:yo,manyToOne:ho,manyToMany:bo,manyWay:fo},hn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const s=(0,V.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:d,modifiedData:c}=(0,Ge.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],m=(e==="contentType"?k()(c,[e,"schema","kind"],""):e)==="collectionType"?p:y,A=o==="manyToOne",x=k()(d,[i,"schema","displayName"],"unknown"),I=A?x:a,z=A?a:x,G=yn()(I,o==="manyToMany"?2:1),F=k()(d,[i,"schema","restrictRelationsTo"],null),M=yn()(z,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(he.k,{style:{flex:1}},t.createElement(vo,null,t.createElement(he.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(Re.k,{tagName:"button"},t.createElement(xe.K,{spacing:3,horizontal:!0},m.map(N=>{const X=Eo[N],te=F===null||F.includes(N);return t.createElement(Co,{as:"button",isSelected:o===N,disabled:!te,key:N,onClick:()=>{te&&s({type:be.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:N}})},padding:2,type:"button"},t.createElement(X,{key:N}))}))))),t.createElement(To,{justifyContent:"center"},t.createElement(ne.Z,null,oa()(G,{length:24}),"\xA0"),t.createElement(ne.Z,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${o}`)}),"\xA0"),t.createElement(ne.Z,null,oa()(M,{length:24})))):null};hn.defaultProps={relationType:null,target:null},hn.propTypes={naturePickerType:n().string.isRequired,oneThatIsCreatingARelationWithAnother:n().string.isRequired,relationType:n().string,target:n().string};const Mo=hn,ra=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:s})=>{const l=(0,pn.Z)(o.relation,o.targetAttribute);return t.createElement(he.k,{style:{position:"relative"}},t.createElement(aa,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:s,value:o?.name||""}),t.createElement(Mo,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:l,target:o.target}),t.createElement(aa,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};ra.propTypes={formErrors:n().object.isRequired,mainBoxHeader:n().string.isRequired,modifiedData:n().object.isRequired,naturePickerType:n().string.isRequired,onChange:n().func.isRequired};const xo=ra;var sa=r(97406);const bn=({description:e,error:a,intlLabel:o,modifiedData:i,name:s,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{if(y){const x=(0,sa.Z)(y);try{const I=yn()(x,2);p.current({target:{name:s,value:I}})}catch{p.current({target:{name:s,value:x}})}}else p.current({target:{name:s,value:""}})},[y,s]);const g=a?c({id:a,defaultMessage:a}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=c(o);return t.createElement(cn.o,{error:g,label:A,id:s,hint:m,name:s,onChange:l,value:d||""})};bn.defaultProps={description:null,error:null,value:null},bn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Ro=bn;var Ao=r(31950),Zo=r(90608);const vn=({error:e,intlLabel:a,name:o,onChange:i,value:s})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:d}=(0,Ge.Z)(),[c,p]=(0,t.useState)(d),y=e?l({id:e,defaultMessage:e}):"",g=l(a),m=x=>{i({target:{name:o,value:x,type:"select-category"}})},A=x=>{p(I=>[...I,x]),m(x)};return t.createElement(Ao.X,{error:y,id:o,label:g,name:o,onChange:m,onCreateOption:A,value:s},c.map(x=>t.createElement(Zo.O,{key:x,value:x},x)))};vn.defaultProps={error:null,value:null},vn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Fo=vn,Cn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:s,componentToCreate:l,name:d,onChange:c,targetUid:p,forTarget:y,value:g})=>{const{formatMessage:m}=(0,v.useIntl)(),A=e?m({id:e,defaultMessage:e}):"",x=m(a),{componentsGroupedByCategory:I,componentsThatHaveOtherComponentInTheirAttributes:z}=(0,Ge.Z)(),G=["component","components"].includes(y);let F=Object.entries(I).reduce((M,N)=>{const[X,te]=N,fe=te.map(U=>({uid:U.uid,label:U.schema.displayName,categoryName:X}));return[...M,...fe]},[]);return o&&(F=F.filter(M=>!z.includes(M.uid))),G&&(F=F.filter(M=>M.uid!==p)),s&&(F=[{uid:g,label:l.displayName,categoryName:l.category}]),t.createElement(wt.P,{disabled:s||!i,error:A,label:x,id:d,name:d,onChange:M=>{c({target:{name:d,value:M,type:"select-category"}})},value:g||""},F.map(M=>t.createElement(Wt.W,{key:M.uid,value:M.uid},`${M.categoryName} - ${M.label}`)))};Cn.defaultProps={componentToCreate:null,error:null},Cn.propTypes={componentToCreate:n().object,forTarget:n().string.isRequired,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,isAddingAComponentToAnotherComponent:n().bool.isRequired,isCreating:n().bool.isRequired,isCreatingComponentWhileAddingAField:n().bool.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,targetUid:n().string.isRequired,value:n().string.isRequired};const So=Cn,Tn=(e,a)=>e.find(({name:o})=>o===a),ia=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:i,value:s})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:d,modifiedData:c}=(0,Ge.Z)(),y=(Tn(c.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(d).reduce((x,I)=>{const z=d[I].filter(({uid:G})=>!y.includes(G));return z.length>0&&(x[I]=z),x},{}),m=Object.entries(g).reduce((x,I)=>{const[z,G]=I,F={label:z,children:G.map(({uid:M,schema:{displayName:N}})=>({label:N,value:M}))};return x.push(F),x},[]),A=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return t.createElement(It.Q,{id:"select1",label:l(a),customizeContent:()=>A,name:o,onChange:x=>{i({target:{name:o,value:x,type:"select-components"}})},options:m,value:s||[]})};ia.propTypes={intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,dynamicZoneTarget:n().string.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().array.isRequired};const Lo=ia,En=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:s,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=a?c({id:a,defaultMessage:a}):"",g=m=>{s({target:{name:i,value:m,type:"select"}}),d&&o.default!==void 0&&o.default!==null&&s({target:{name:"default",value:null}})};return t.createElement(wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:A,hidden:x},key:I,value:z})=>t.createElement(Wt.W,{key:I,value:z,disabled:A,hidden:x},c({id:m.id,defaultMessage:m.defaultMessage},m.values))))};En.defaultProps={error:void 0,value:""},En.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const No=En,Mn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:s,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=a?c({id:a,defaultMessage:a}):"",g=m=>{s({target:{name:i,value:m,type:"select"}}),d&&(m==="biginteger"&&d!=="biginteger"&&(o.default!==void 0&&o.default!==null&&s({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&s({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&d==="biginteger"&&(o.default!==void 0&&o.default!==null&&s({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&s({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&s({target:{name:"min",value:null}})))};return t.createElement(wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:A,hidden:x},key:I,value:z})=>t.createElement(Wt.W,{key:I,value:z,disabled:A,hidden:x},c(m))))};Mn.defaultProps={error:void 0,value:""},Mn.propTypes={error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,options:n().arrayOf(n().shape({metadatas:n().shape({intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired}).isRequired,disabled:n().bool,hidden:n().bool}).isRequired,key:n().oneOfType([n().string,n().number]).isRequired,value:n().oneOfType([n().string,n().number]).isRequired}).isRequired).isRequired,value:n().string};const Oo=Mn,xn=({description:e,error:a,intlLabel:o,modifiedData:i,name:s,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{y?p.current({target:{name:s,value:(0,sa.Z)(y)}}):p.current({target:{name:s,value:""}})},[y,s]);const g=a?c({id:a,defaultMessage:a}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=c(o);return t.createElement(cn.o,{error:g,label:A,id:s,hint:m,name:s,onChange:l,value:d||""})};xn.defaultProps={description:null,error:null,value:null},xn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,modifiedData:n().object.isRequired,name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const Po=xn,la=({form:e,formErrors:a,genericInputProps:o,modifiedData:i,onChange:s})=>{const{formatMessage:l}=(0,v.useIntl)();return e.map((d,c)=>d.items.length===0?null:t.createElement(R.x,{key:c},d.sectionTitle&&t.createElement(R.x,{paddingBottom:4},t.createElement(ne.Z,{variant:"delta",as:"h3"},l(d.sectionTitle))),t.createElement(Rt.r,{gap:4},d.items.map((p,y)=>{const g=`${c}.${y}`,m=k()(i,p.name,""),A=Object.keys(a).find(I=>I===p.name),x=A?a[A].id:k()(a,[...p.name.split(".").filter(I=>I!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(pt.P,{col:p.size||6,key:p.name||g},t.createElement("div",null)):t.createElement(pt.P,{col:p.size||6,key:p.name||g},t.createElement(f.GenericInput,{...p,...o,error:x,onChange:s,value:m}))}))))};la.propTypes={form:n().arrayOf(n().object).isRequired,formErrors:n().object.isRequired,genericInputProps:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired};const da=la;var Do=r(64256);const Rn=({description:e,disabled:a,error:o,intlLabel:i,labelAction:s,name:l,onChange:d,placeholder:c,value:p})=>{const{formatMessage:y}=(0,v.useIntl)(),g=o?y({id:o,defaultMessage:o}):"",m=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",A=y(i),x=c?y({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",I=Array.isArray(p)?p.join(`
`):"",z=G=>{const F=G.target.value.split(`
`);d({target:{name:l,value:F}})};return t.createElement(Do.g,{disabled:a,error:g,label:A,labelAction:s,id:l,hint:m,name:l,onChange:z,placeholder:x,value:I},I)};Rn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Rn.propTypes={description:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),disabled:n().bool,error:n().string,intlLabel:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}).isRequired,labelAction:n().element,name:n().string.isRequired,onChange:n().func.isRequired,placeholder:n().shape({id:n().string.isRequired,defaultMessage:n().string.isRequired,values:n().object}),value:n().oneOfType([n().array,n().string])};const Io=Rn,$o=(e,a)=>{const o=k()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:k()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const p=(0,pn.Z)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},jo=(e="",a,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=e==="contentType",l=o.includes(a),d=!s&&!l;return s?[[...i,"uid"],["component","dynamiczone"]]:d?[i,["component"]]:[i]},ua=e=>e.reduce((a,o)=>{const i=o.items.reduce((s,l)=>(l.name&&s.push(l.name),s),[]);return[...a,...i]},[]);var E=r(53209),ht=r(97392);const zo={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},ca=/^[A-Za-z][-_0-9A-Za-z]*$/,Bo=e=>{const a={name:E.Z_().matches(ca,f.translatedErrors.regex).test({name:"nameNotAllowed",message:f.translatedErrors.unique,test(o){return o?!e.includes((0,b.toLower)(o)):!1}}).required(f.translatedErrors.required)};return E.Ry(a)},ko=(e,a,o)=>{const i={displayName:E.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(s){if(!s)return!1;const l=(0,ht.N)(s,o);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(s){return s?!a.includes((0,b.toLower)((0,b.trim)(s))):!1}}).required(f.translatedErrors.required),category:E.Z_().matches(ca,f.translatedErrors.regex).required(f.translatedErrors.required),icon:E.Z_()};return E.Ry(i)},An={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},bt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},D={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Uo={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},component({repeatable:e},a){return a==="1"?{sections:bt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private,D.max,D.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...D.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.max,D.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...D.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.max,D.min,D.private]}]}},password(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[D.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}},text(){return{sections:[{sectionTitle:null,items:[D.default,D.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.unique,D.maxLength,D.minLength,D.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...D.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[D.required,D.maxLength,D.minLength,D.private]}]}}},Ye={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ma={advanced:Uo,base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?bt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[An]},...o]}}return{sections:[{sectionTitle:null,items:[Ye,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Ye,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Ye,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Ye]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const i=o.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[{...Ye,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},qo={sections:[{sectionTitle:null,items:[Ye]}]};var wo=r(44908),Wo=r.n(wo),Ko=r(46831),Vo=r.n(Ko);const Zn=e=>Vo()(e,{decamelize:!1,lowercase:!1,separator:"_"}),pa=/^[A-Za-z][_0-9A-Za-z]*$/,ga=e=>({name:"attributeNameAlreadyUsed",message:f.translatedErrors.unique,test(a){return a?!e.includes(a):!1}}),Cs=(e,a,o)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(s=>a?s!==o:!0)},Fn=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),C={default:()=>E.Z_().nullable(),max:()=>E.Rx().integer().nullable(),min:()=>E.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>E.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>E.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,u.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return E.Z_().test(ga(e)).test(Fn(a)).matches(pa,f.translatedErrors.regex).required(f.translatedErrors.required)},required:()=>E.O7(),type:()=>E.Z_().required(f.translatedErrors.required),unique:()=>E.O7().nullable()},Sn=(e,a)=>({name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength(),regex:E.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),Ln={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN((0,b.toNumber)(e))?!0:(0,b.toNumber)(a)>=(0,b.toNumber)(e)}},Nn={date(e,a){const o={name:C.name(e,a),type:C.type()};return E.Ry(o)},datetime(e,a){const o={name:C.name(e,a),type:C.type()};return E.Ry(o)},time(e,a){const o={name:C.name(e,a),type:C.type()};return E.Ry(o)},default(e,a){const o={name:C.name(e,a),type:C.type()};return E.Ry(o)},biginteger(e,a){const o={name:C.name(e,a),type:C.type(),default:E.Z_().nullable().matches(/^-?\d*$/),unique:C.unique(),required:C.required(),max:E.Z_().nullable().matches(/^-?\d*$/,f.translatedErrors.regex),min:E.Z_().nullable().test(Ln).matches(/^-?\d*$/,f.translatedErrors.regex)};return E.Ry(o)},boolean(e,a){const o={name:C.name(e,a),default:E.O7().nullable(),required:C.required(),unique:C.unique()};return E.Ry(o)},component(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),max:C.max(),min:C.min(),component:E.Z_().required(f.translatedErrors.required)};return E.Ry(o)},decimal(e,a){const o={name:C.name(e,a),type:C.type(),default:E.Rx(),required:C.required(),max:E.Rx(),min:E.Rx().test(Ln)};return E.Ry(o)},dynamiczone(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),max:C.max(),min:C.min()};return E.Ry(o)},email(e,a){const o={name:C.name(e,a),type:C.type(),default:E.Z_().email().nullable(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return E.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:E.Z_().test(ga(e)).test(Fn(a)).matches(o,f.translatedErrors.regex).required(f.translatedErrors.required),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),enum:E.IX().of(E.Z_()).min(1,f.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(s){return!Wo()(s.map(Zn).filter((d,c,p)=>p.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:s=>!s.map(Zn).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:s=>s.map(Zn).every(l=>o.test(l))}),enumName:E.Z_().nullable()};return E.Ry(i)},float(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),default:E.Rx(),max:E.Rx(),min:E.Rx().test(Ln)};return E.Ry(o)},integer(e,a){const o={name:C.name(e,a),type:C.type(),default:E.Rx().integer(),unique:C.unique(),required:C.required(),max:C.max(),min:C.min()};return E.Ry(o)},json(e,a){const o={name:C.name(e,a),type:C.type(),required:C.required(),unique:C.unique()};return E.Ry(o)},media(e,a){const o={name:C.name(e,a),type:C.type(),multiple:E.O7(),required:C.required(),allowedTypes:E.IX().of(E.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return E.Ry(o)},password(e,a){const o={name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return E.Ry(o)},relation(e,a,o,{initialData:i,modifiedData:s}){const l={name:C.name(e,a),target:E.Z_().required(f.translatedErrors.required),relation:E.Z_().required(),type:E.Z_().required(),targetAttribute:E.Vo(()=>{const d=(0,pn.Z)(s.relation,s.targetAttribute);if(d==="oneWay"||d==="manyWay")return E.Z_().nullable();let c=E.Z_().test(Fn(a)),y=[...o.map(({name:g})=>g),s.name].filter(g=>g!==i.targetAttribute);return c.matches(pa,f.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!y.includes(g):!1}}).required(f.translatedErrors.required)})};return E.Ry(l)},richtext(e,a){const o={name:C.name(e,a),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return E.Ry(o)},string(e,a){const o=Sn(e,a);return E.Ry(o)},text(e,a){const o=Sn(e,a);return E.Ry(o)},uid(e,a){const o=Sn(e,a);return E.Ry(o)}},fa={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},On={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[fa,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[fa,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Ho=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[]})=>{const s={displayName:E.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(l){if(!l)return!1;const d=(0,ht.E)(l);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),pluralName:E.Z_().test({name:"pluralNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,d){return l?d.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),singularName:E.Z_().test({name:"singularNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,d){return l?d.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),draftAndPublish:E.O7(),kind:E.Z_().oneOf(["singleType","collectionType"])};return E.Ry(s)},Pn={advanced:{default(){return{sections:bt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[An]},...bt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[An]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},ya=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},ha=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o);var ba=r(25108);const rt={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:s,ctbFormsAPI:l}){const d=ha(e,s),c=Nn[a](d,i.attributes);return l.makeCustomFieldValidator(c,o,d,i.attributes,s)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[Ye]}];return e.options?.base&&ya(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:i,...s}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...s});if(e.options?.advanced&&ya(e.options.advanced,l),d){const c={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,a,o,i,s,l){const d=k()(e,["schema","attributes"],[]),c=ha(d,s);try{let p=Nn[a](c,o.attributes,i,s);return l.makeValidator(["attribute",a],p,c,o.attributes,i,s)}catch(p){return ba.error("Error yup build schema",p),Nn.default(c,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:i,...s}){try{const l=ma.advanced[a](e,o).sections,d=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...s});return{sections:l.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...d]}),p),[])}}catch(l){return ba.error(l),{sections:[]}}},base({data:e,type:a,step:o,attributes:i}){try{return ma.base[a](e,o,i)}catch{return qo}}}},contentType:{schema(e,a,o,i,s,l){const d=Object.values(l).map(A=>A.schema.singularName),c=Object.values(l).map(A=>k()(A,["schema","pluralName"],"")),p=a?e.filter(A=>A!==o):e,y=a?d.filter(A=>k()(l,[o,"schema","singularName"],"")!==A):d,g=a?c.filter(A=>k()(l,[o,"schema","pluralName"],"")!==A):c,m=Ho({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:g});return s.makeValidator(["contentType"],m,p,i.models,y,g)},form:{base({actionType:e}){return e==="create"?On.base.create():On.base.edit()},advanced({extensions:e}){const a=On.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,i=!1,s=null){const l=i?e.filter(d=>d!==s):e;return ko(l,o.models,a)},form:{advanced(){return{sections:bt.advanced()}},base(){return{sections:bt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Pn.advanced.default()},base({data:e}){return k()(e,"createComponent",!1)?Pn.base.createComponent():Pn.base.default()}}},editCategory:{schema(e,a){const o=e.filter(i=>i!==a.name).map(i=>ze()(i));return Bo(o)},form:{advanced:()=>({sections:[]}),base(){return zo.base}}}};var va=r(20573),Go=r(88372);const Xo=()=>e=>e[`${j.Z}_formModal`]||Go.E,Yo=()=>(0,va.P1)(Xo(),e=>e);var Ca=r(25108);const Jo=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:s,attributeName:l,attributeType:d,customFieldUid:c,categoryName:p,dynamicZoneTarget:y,forTarget:g,modalType:m,isOpen:A,kind:x,step:I,targetUid:z}=(0,ce.Z)(),G=(0,f.useCustomFields)().get(c),F=(0,t.useRef)(),M=(0,t.useMemo)(Yo,[]),N=(0,V.useDispatch)(),X=(0,f.useNotification)(),te=(0,V.useSelector)(H=>M(H),V.shallowEqual),{push:fe}=(0,h.useHistory)(),{trackUsage:U}=(0,f.useTracking)(),{formatMessage:le}=(0,v.useIntl)(),{getPlugin:_}=(0,f.useStrapiApp)(),se=_(j.Z).apis.forms,J=se.components.inputs,{addAttribute:de,addCustomFieldAttribute:Lt,addCreatedComponentToDynamicZone:st,allComponentsCategories:ae,changeDynamicZoneComponents:O,contentTypes:vt,components:Nt,createSchema:Ct,deleteCategory:$n,deleteData:Ht,editCategory:jn,editCustomFieldAttribute:zn,submitData:Bn,modifiedData:Le,nestedComponents:Gt,setModifiedData:kn,sortedContentTypesList:Un,updateSchema:qn,reservedNames:Ve}=(0,Ge.Z)(),{componentToCreate:Ot,formErrors:$,initialData:L,isCreatingComponentWhileAddingAField:K,modifiedData:P}=te,ve=g==="contentType"||g==="component"?[g]:[g,z];(0,t.useEffect)(()=>{if(A){const H=Un.filter(We);m==="editCategory"&&kn(),s==="edit"&&m==="attribute"&&g==="contentType"&&U("willEditFieldOfContentType");const je=[...ve,"schema","attributes"],Ue=Tn(k()(Le,je,[]),y)||null;if(m==="editCategory"&&s==="edit"&&N({type:be._H,modalType:m,actionType:s,data:{name:p}}),m==="contentType"&&s==="create"&&N({type:be._H,modalType:m,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&s==="edit"){const{displayName:Q,draftAndPublish:Me,kind:qe,pluginOptions:Ne,pluralName:es,singularName:ts}=k()(Le,[...ve,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});N({type:be._H,actionType:s,modalType:m,data:{displayName:Q,draftAndPublish:Me,kind:qe,pluginOptions:Ne,pluralName:es,singularName:ts}})}if(m==="component"&&s==="edit"){const Q=k()(Le,ve,{});N({type:be._H,actionType:s,modalType:m,data:{displayName:Q.schema.displayName,category:Q.category}})}if(m==="addComponentToDynamicZone"&&s==="edit"){const Q={...Ue,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};N({type:be.VZ,attributeToEdit:Q})}if(d){const Me={...Tn(k()(Le,je,[]),l),name:l};d==="component"&&s==="edit"&&(Me.repeatable||Mt()(Me,"repeatable",!1)),N(m==="customField"?{type:be.OY,customField:G,isEditing:s==="edit",modifiedDataToSetForEditing:Me,forTarget:g}:{type:be.S0,attributeType:d,nameToSetForRelation:k()(H,["0","title"],"error"),targetUid:k()(H,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:Me,step:I,forTarget:g})}}else N({type:be.c2})},[s,l,d,p,y,g,A,m]);const Oe=m==="contentType",it=m==="component",Tt=m==="attribute",Pa=m==="customField",Da=d==="component"&&Tt,Pt=s==="create",lt=k()(P,"createComponent",!1)||K,Et=I==="1",Ia=m==="editCategory",$a=m==="chooseAttribute",wn=(0,ht.E)(P.displayName||""),Wn=k()(Le,[...ve,"schema","attributes"],null),kr=async()=>{let H;const je=lt&&I==="1"?k()(P,"componentToCreate",{}):P;if(Oe)H=rt.contentType.schema(Object.keys(vt),s==="edit",k()(Le,[...ve,"uid"],null),Ve,se,vt);else if(it)H=rt.component.schema(Object.keys(Nt),P.category||"",Ve,s==="edit",k()(Le,[...ve,"uid"],null),se);else if(Pa)H=rt.customField.schema({schemaAttributes:k()(Le,[...ve,"schema","attributes"],[]),attributeType:G.type,reservedNames:Ve,schemaData:{modifiedData:P,initialData:L},ctbFormsAPI:se,customFieldValidator:G.options?.validator});else if(Da&&lt&&Et)H=rt.component.schema(Object.keys(Nt),k()(P,"componentToCreate.category",""),Ve,se);else if(Tt&&!Et){const Ue=d==="relation"?"relation":P.type;let Q=[];if(Ue==="relation"){const Me=k()(P,["target"],null);Q=k()(vt,[Me,"schema","attributes"],[]).filter(({name:Ne})=>s!=="edit"?!0:Ne!==L.targetAttribute)}H=rt.attribute.schema(k()(Le,ve,{}),Ue,Ve,Q,{modifiedData:P,initialData:L},se)}else if(Ia)H=rt.editCategory.schema(ae,L,se);else if(Et&&lt)H=rt.component.schema(Object.keys(Nt),k()(P,"componentToCreate.category",""),Ve,se);else return;await H.validate(je,{abortEarly:!1})},ja=(0,t.useCallback)(({target:{name:H,value:je,type:Ue,...Q}})=>{const Me=["enumName","max","min","maxLength","minLength","regex","default"];let qe;Me.includes(H)&&je===""?qe=null:qe=je;const Ne=Object.assign({},$);H==="max"&&delete Ne.min,H==="maxLength"&&delete Ne.minLength,delete Ne[H],N({type:be.Ey,errors:Ne}),N({type:be.P0,keys:H.split("."),value:qe,...Q})},[N,$]),ke=async(H,je=Pt)=>{H.preventDefault();try{await kr(),wr(je);const Ue=g==="components"?z:wn;if(Oe)if(Pt)Ct({...P,kind:x},m,wn),fe({pathname:`/plugins/${j.Z}/content-types/${wn}`}),a({forTarget:g,targetUid:Ue});else{$o(Le,P)?(e(),Bn(P)):X({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(Pt){const Q=(0,ht.N)(P.displayName,P.category),{category:Me,...qe}=P;Ct(qe,"component",Q,Me),fe({pathname:`/plugins/${j.Z}/component-categories/${Me}/${Q}`}),a({forTarget:g,targetUid:Q})}else{qn(P,m,z),e();return}else if(Ia){if(ze()(L.name)===ze()(P.name)){e();return}jn(L.name,P);return}else if(Pa){const Q={attributeToSet:{...P,customField:c},forTarget:g,targetUid:z,initialAttribute:L};s==="edit"?zn(Q):Lt(Q),je?a({forTarget:g,targetUid:Ue}):e();return}else if(Tt&&!lt){if(d==="dynamiczone"){de(P,g,z,s==="edit",L),Pt?(N({type:be.I}),F.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:P.name})):e();return}if(!Da){de(P,g,z,s==="edit",L),je?a({forTarget:g,targetUid:Ue}):e();return}if(Et){i(),N({type:be.yC,forTarget:g});return}de(P,g,z,s==="edit",L,!0),je?a({forTarget:g,targetUid:z}):e()}else if(Tt&&lt){if(Et){U("willCreateComponentFromAttributesModal"),N({type:be.oF,forTarget:g}),i();return}const{category:Q,type:Me,...qe}=Ot,Ne=(0,ht.N)(Ot.displayName,Q);Ct(qe,Me,Ne,Q,lt),de(P,g,z,!1),N({type:be.c2}),je?a({forTarget:"components",targetUid:Ne}):e();return}else{if(Et)if(lt){const{category:Q,type:Me,...qe}=P.componentToCreate,Ne=(0,ht.N)(P.componentToCreate.displayName,Q);Ct(qe,Me,Ne,Q,lt),st(y,[Ne]),a({forTarget:"components",targetUid:Ne})}else O(y,P.components),e();else Ca.error("This case is not handled");return}N({type:be.c2})}catch(Ue){const Q=(0,f.getYupInnerErrors)(Ue);Ca.log({err:Ue,errors:Q}),N({type:be.Ey,errors:Q})}},Ur=()=>{window.confirm(le({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),N({type:be.c2}))},za=()=>{(0,b.isEqual)(P,L)?(e(),N({type:be.c2})):Ur()},qr=H=>{if(H==="advanced"){if(Oe){U("didSelectContentTypeSettings");return}g==="contentType"&&U("didSelectContentTypeFieldSettings")}},wr=H=>{m==="attribute"&&g==="contentType"&&d!=="dynamiczone"&&H&&U("willAddMoreFieldToContentType")},Wr=()=>!!(m==="editCategory"||m==="component"||nt()(P,"createComponent")),Kr=jo(g,z,Gt);if(!A||!m)return null;const Ba=k()(rt,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Vr=g==="components"||g==="component",ka={customInputs:{"allowed-types-select":Yt,"boolean-radio-group":Xa,"checkbox-with-number-field":io,"content-type-radio-group":lo,"radio-group":dn,relation:xo,"select-category":Fo,"select-component":So,"select-components":Lo,"select-default-boolean":Va,"select-number":Oo,"select-date":No,"toggle-draft-publish":an,"text-plural":Ro,"text-singular":Po,"textarea-enum":Io,...J},componentToCreate:Ot,dynamicZoneTarget:y,formErrors:$,isAddingAComponentToAnotherComponent:Vr,isCreatingComponentWhileAddingAField:K,mainBoxHeader:k()(Le,[...ve,"schema","displayName"],""),modifiedData:P,naturePickerType:g,isCreating:Pt,targetUid:z,forTarget:g},Ua=Ba.advanced({data:P,type:d,step:I,actionType:s,attributes:Wn,extensions:se,forTarget:g,contentTypeSchema:Le.contentType||{},customField:G}).sections,qa=Ba.base({data:P,type:d,step:I,actionType:s,attributes:Wn,extensions:se,forTarget:g,contentTypeSchema:Le.contentType||{},customField:G}).sections,Hr=ua(qa),Gr=ua(Ua),Xr=Object.keys($).some(H=>Hr.includes(H)),Yr=Object.keys($).some(H=>Gr.includes(H)),Jr=k()(vt,[z,"schema","kind"]),Qr=()=>s==="edit"&&Wn.every(({name:H})=>H!==P?.name),_r=()=>{Qr()&&U("didEditFieldNameOnContentType")};return t.createElement(we.P,{onClose:za,labelledBy:"title"},t.createElement(ot,{actionType:s,attributeName:l,categoryName:p,contentTypeKind:x,dynamicZoneTarget:y,modalType:m,forTarget:g,targetUid:z,attributeType:d,customFieldUid:c}),$a&&t.createElement(tn,{attributes:Kr,forTarget:g,kind:Jr||"collectionType"}),!$a&&t.createElement("form",{onSubmit:ke},t.createElement(Se.f,null,t.createElement(Dt.v,{label:"todo",id:"tabs",variant:"simple",ref:F,onTabChange:H=>{H===1&&qr("advanced")}},t.createElement(he.k,{justifyContent:"space-between"},t.createElement(Ka,{actionType:s,forTarget:g,kind:x,step:I,modalType:m,attributeType:d,attributeName:l,customField:G}),t.createElement(Je.m,null,t.createElement(Je.O,{hasError:Xr},le({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(Je.O,{hasError:Yr,disabled:Wr()},le({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(Ee.i,null),t.createElement(R.x,{paddingTop:6},t.createElement(Pe.n,null,t.createElement(Pe.x,null,t.createElement(xe.K,{spacing:6},t.createElement(da,{form:qa,formErrors:$,genericInputProps:ka,modifiedData:P,onChange:ja}))),t.createElement(Pe.x,null,t.createElement(xe.K,{spacing:6},t.createElement(da,{form:Ua,formErrors:$,genericInputProps:ka,modifiedData:P,onChange:ja}))))))),t.createElement(xt.m,{endActions:t.createElement(wa,{deleteCategory:$n,deleteContentType:Ht,deleteComponent:Ht,categoryName:L.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:P.createComponent||!1,isCreatingComponentInDz:P.createComponent||!1,isCreatingComponentWhileAddingAField:K,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:I==="1",onSubmitAddComponentAttribute:ke,onSubmitAddComponentToDz:ke,onSubmitCreateComponent:ke,onSubmitCreateContentType:ke,onSubmitCreateDz:ke,onSubmitEditAttribute:ke,onSubmitEditCategory:ke,onSubmitEditComponent:ke,onSubmitEditContentType:ke,onSubmitEditCustomFieldAttribute:ke,onSubmitEditDz:ke,onClickFinish:_r}),startActions:t.createElement(w.z,{variant:"tertiary",onClick:za},le({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Ta=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),Qo=(e,a,o,i)=>{const s=a.reduce((c,p)=>{const y=k()(o,p,{});return c[p]=y,c},{});return{[i?"contentType":"component"]:e,components:s}},_o=(e,a)=>{const o=Object.keys(e).map(i=>(0,b.get)(e,[i,...a],""));return(0,oe.Z)(o)};var er=r(19525);const tr=e=>{const a=Object.keys(e).reduce((o,i)=>{const s=(0,b.get)(e,[i,"schema","attributes"],[]),l=nr(s);return[...o,...l]},[]);return(0,oe.Z)(a)},nr=e=>e.reduce((a,o)=>{const{type:i,component:s}=o;return i==="component"&&a.push(s),a},[]),Ea=tr,ar=e=>{const a=Object.keys(e).reduce((o,i)=>{const s=k()(e,[i],{}),l=s.uid;return or(s)&&o.push(l),o},[]);return(0,oe.Z)(a)},or=e=>k()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),rr=(e,a)=>{const o=Object.keys(e).filter(i=>{const s=(0,b.get)(e,i,{}),l=(0,b.get)(a,i,{}),d=(0,b.get)(s,["isTemporary"],!1),c=!(0,b.isEqual)(s,l);return d||c});return(0,oe.Z)(o)},sr=(e,a)=>{const o=xa((0,b.get)(e,"schema.attributes",[]),a),i=(0,b.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,b.omit)(e.schema,"attributes"),{attributes:o})},Ma=(e,a=!1)=>{const o=(0,b.get)(e,"uid",null),i=xa((0,b.get)(e,"schema.attributes",[]),o),s=a?{category:(0,b.get)(e,"category","")}:{},l=Object.assign(s,(0,b.omit)(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},xa=(e,a)=>e.reduce((o,{name:i,...s})=>{const l=s,d=l.target===a,c=l.type==="relation",p=(0,b.get)(l,"targetAttribute",null);if(!d)if(c){const y=Object.assign({},l,{targetAttribute:Ra(p)});o[i]=Vt(y)}else o[i]=Vt(l);if(d){const y=l.target,g=Object.assign({},l,{target:y,targetAttribute:Ra(p)});o[i]=Vt(g)}if(l.customField){const y={...l,type:"customField"};o[i]=Vt(y)}return o},{}),Ra=e=>e==="-"?null:e,Vt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),ir=(e,a,o,i=!1)=>rr(e,a).map(d=>{const c=(0,b.get)(e,d,{});return sr(c,o,i)}),lr=e=>(0,b.sortBy)(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${j.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>(0,b.camelCase)(a.title)),Aa="did-not-kill-server",dr="server is down";function Ft(e,a){return new Promise(o=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(dr);if(!a)throw new Error(Aa);o(e)}).catch(i=>{setTimeout(()=>Ft(e,i.message!==Aa).then(o),100)})})}const ur=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0);var Fe=r(92407),cr=r(87431);const mr=()=>e=>e[`${j.Z}_dataManagerProvider`]||cr.E,pr=()=>(0,va.P1)(mr(),e=>e),gr=e=>Object.keys(e).reduce((a,o)=>{const i=e[o].schema;return a[o]={...e[o],schema:{...i,attributes:fr(i.attributes)}},a},{}),fr=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Za=gr;var St=r(25108);const Dn=({children:e,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:s,initialData:l,modifiedData:d,reservedNames:c})=>{const p=(0,V.useDispatch)(),y=(0,f.useNotification)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:m}=(0,f.useAutoReloadOverlayBlocker)(),{setCurrentStep:A}=(0,f.useGuidedTour)(),{getPlugin:x}=(0,f.useStrapiApp)(),{apis:I}=x(j.Z),{autoReload:z}=(0,f.useAppInfos)(),{formatMessage:G}=(0,v.useIntl)(),{trackUsage:F}=(0,f.useTracking)(),{refetchPermissions:M}=(0,f.useRBACProvider)(),{pathname:N}=(0,h.useLocation)(),{onCloseModal:X}=(0,ce.Z)(),te=(0,h.useRouteMatch)(`/plugins/${j.Z}/content-types/:uid`),fe=(0,h.useRouteMatch)(`/plugins/${j.Z}/component-categories/:categoryUid/:componentUid`),U=(0,t.useRef)();U.current=G;const le=z,_=te!==null,ct=_?"contentType":"component",se=_?(0,b.get)(te,"params.uid",null):(0,b.get)(fe,"params.componentUid",null),J=(0,t.useRef)(),de=_?"content-types":"components";J.current=async()=>{try{const[{data:{data:$}},{data:{data:L}},{data:K}]=await Promise.all(["components","content-types","reserved-names"].map(Tt=>ye.get(Tt))),P=Ta($),ve=Za(P),Oe=Ta(L),it=Za(Oe);p({type:Fe.Id,components:ve,contentTypes:it,reservedNames:K})}catch($){St.error({err:$}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(J.current(),()=>{p({type:Fe.Zl})}),[]),(0,t.useEffect)(()=>{!i&&se&&Gt()},[i,N,se]),(0,t.useEffect)(()=>{z||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[z,y]);const Lt=($,L,K,P=!1,ve,Oe=!1)=>{const it=P?Fe.JO:Fe.gz;p({type:it,attributeToSet:$,forTarget:L,targetUid:K,initialAttribute:ve,shouldAddComponentToData:Oe})},st=({attributeToSet:$,forTarget:L,targetUid:K,initialAttribute:P})=>{p({type:Fe.Ir,attributeToSet:$,forTarget:L,targetUid:K,initialAttribute:P})},ae=({attributeToSet:$,forTarget:L,targetUid:K,initialAttribute:P})=>{p({type:Fe.Ly,attributeToSet:$,forTarget:L,targetUid:K,initialAttribute:P})},O=($,L)=>{p({type:Fe.Uu,dynamicZoneTarget:$,componentsToAdd:L})},vt=($,L,K,P,ve=!1)=>{const Oe=L==="contentType"?Fe.Sh:Fe.VR;p({type:Oe,data:$,componentCategory:P,schemaType:L,uid:K,shouldAddComponentToData:ve})},Nt=($,L)=>{p({type:Fe.o_,dynamicZoneTarget:$,newComponents:L})},Ct=($,L,K="")=>{const P=$==="components"?Fe.lw:Fe.ai;$==="contentType"&&F("willDeleteFieldOfContentType"),p({type:P,mainDataKey:$,attributeToRemoveName:L,componentUid:K})},$n=async $=>{try{const L=`/component-categories/${$}`,K=window.confirm(G({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));X(),K&&(g(),await ye.delete(L),await Ft(!0),await m(),await Ve())}catch(L){St.error({err:L}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Ht=async()=>{try{const $=`/${de}/${se}`,L=(0,b.get)(d,[ct,"isTemporary"],!1),K=window.confirm(G({id:(0,u.Z)(`popUpWarning.bodyMessage.${_?"contentType":"component"}.delete`)}));if(X(),K){if(L){p({type:Fe.Ap});return}g(),await ye.delete($),await Ft(!0),await m(),await Ve()}}catch($){St.error({err:$}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},jn=async($,L)=>{try{const K=`/component-categories/${$}`;X(),g(),await ye.put(K,L),await Ft(!0),await m(),await Ve()}catch(K){St.error({err:K}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},zn=()=>{const $=Object.assign({},a,d.components);if(!_){const K=(0,b.get)(d,"component",{});(0,b.set)($,(0,b.get)(K,["uid"],""),K)}const L=ar($);return(0,oe.Z)(L)},Bn=()=>{const $=Ea(a),L=Ea(d.components||{});return(0,oe.Z)([...L,...$])},Le=($,L)=>{p({type:Fe.NG,dzName:$,componentToRemoveIndex:L})},Gt=()=>{const $=_?o:a,L=(0,b.get)($,se,{schema:{attributes:[]}}),K=(0,er.Z)(L.schema.attributes,a),P=Qo(L,K,a,_),ve=(0,b.get)(L,"isTemporary",!1)&&(0,b.size)((0,b.get)(L,"schema.attributes",[]))===0;p({type:Fe.xx,schemaToSet:P,hasJustCreatedSchema:ve})},kn=(0,t.useMemo)(()=>{const $=_?o:a;return se==="create-content-type"?!1:!Object.keys($).includes(se)&&!i},[a,o,se,_,i]),Un=(0,t.useMemo)(()=>{const $=Object.keys(o).filter(L=>(0,b.get)(o,[L,"schema","visible"],!0)).sort();return(0,b.get)($,"0","create-content-type")},[o]);if(kn)return t.createElement(h.Redirect,{to:`/plugins/${j.Z}/content-types/${Un}`});const qn=async $=>{try{const L=(0,b.get)(d,[ct,"isTemporary"],!1),K={components:ir(d.components,a,se,L)};if(_){const Oe=I.forms.mutateContentTypeSchema({...Ma(d.contentType),...$},l.contentType);if(!ur(Oe)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}K.contentType=Oe,F("willSaveContentType")}else K.component=Ma(d.component,!0),F("willSaveComponent");g();const P=`/${de}`,ve=L?P:`${P}/${se}`;if(L?await ye.post(ve,K):await ye.put(ve,K),await Ft(!0),await m(),L&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&A("contentTypeBuilder.success"),_){F("didSaveContentType");const Oe=(0,b.get)(K,["contentType","schema","name"],""),it=(0,b.get)(l,["contentType","schema","name"],"");!L&&Oe!==it&&F("didEditNameOfContentType")}else F("didSaveComponent");await Ve()}catch(L){_||F("didNotSaveComponent"),St.error({err:L.response}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Ve=async()=>{await M()},Ot=($,L,K)=>{p({type:Fe.bi,data:$,schemaType:L,uid:K})};return t.createElement(ue.Z.Provider,{value:{addAttribute:Lt,addCustomFieldAttribute:st,addCreatedComponentToDynamicZone:O,allComponentsCategories:_o(a,["category"]),changeDynamicZoneComponents:Nt,components:a,componentsGroupedByCategory:(0,b.groupBy)(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:zn(),contentTypes:o,createSchema:vt,deleteCategory:$n,deleteData:Ht,editCategory:jn,editCustomFieldAttribute:ae,isInDevelopmentMode:le,initialData:l,isInContentTypeView:_,modifiedData:d,nestedComponents:Bn(),removeAttribute:Ct,removeComponentFromDynamicZone:Le,reservedNames:c,setModifiedData:Gt,sortedContentTypesList:lr(o),submitData:qn,updateSchema:Ot}},s?t.createElement(f.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,le&&t.createElement(Jo,null)))};Dn.defaultProps={components:{}},Dn.propTypes={children:n().node.isRequired,components:n().object,contentTypes:n().object.isRequired,isLoading:n().bool.isRequired,isLoadingForDataToBeSet:n().bool.isRequired,initialData:n().object.isRequired,modifiedData:n().object.isRequired,reservedNames:n().object.isRequired};const yr=pr(),hr=(0,V.connect)(yr,null),br=(0,Ce.compose)(hr)((0,t.memo)(Dn));var vr=r(98422);const Fa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Sa=({children:e})=>{const[a,o]=(0,t.useState)(Fa),{trackUsage:i}=(0,f.useTracking)(),s=({attributeType:F,customFieldUid:M})=>{o(N=>({...N,actionType:"create",modalType:"customField",attributeType:F,customFieldUid:M}))},l=({attributeType:F,step:M})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:F}),o(N=>({...N,actionType:"create",modalType:"attribute",step:M,attributeType:F}))},d=({dynamicZoneTarget:F,targetUid:M})=>{o(N=>({...N,dynamicZoneTarget:F,targetUid:M,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:F,targetUid:M})=>{o(N=>({...N,actionType:"create",forTarget:F,targetUid:M,modalType:"chooseAttribute",isOpen:!0}))},p=F=>{o(M=>({...M,...F,isOpen:!0}))},y=F=>{o(M=>({...M,categoryName:F,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:F,targetUid:M,attributeName:N,attributeType:X,customFieldUid:te})=>{o(fe=>({...fe,modalType:"customField",customFieldUid:te,actionType:"edit",forTarget:F,targetUid:M,attributeName:N,attributeType:X,isOpen:!0}))},m=({forTarget:F,targetUid:M,attributeName:N,attributeType:X,step:te})=>{o(fe=>({...fe,modalType:"attribute",actionType:"edit",forTarget:F,targetUid:M,attributeName:N,attributeType:X,step:te,isOpen:!0}))},A=({modalType:F,forTarget:M,targetUid:N,kind:X})=>{o(te=>({...te,modalType:F,actionType:"edit",forTarget:M,targetUid:N,kind:X,isOpen:!0}))},x=()=>{o(Fa)},I=({forTarget:F,targetUid:M})=>{o(N=>({...N,forTarget:F,targetUid:M,modalType:"chooseAttribute"}))},z=()=>{o(F=>({...F,attributeType:"component",modalType:"attribute",step:"2"}))},G=({dynamicZoneTarget:F})=>{o(M=>({...M,dynamicZoneTarget:F,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(vr.Z.Provider,{value:{...a,onClickSelectField:l,onClickSelectCustomField:s,onCloseModal:x,onNavigateToChooseAttributeModal:I,onNavigateToAddCompoToDZModal:G,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:z,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:m,onOpenModalEditCustomField:g,onOpenModalEditSchema:A,setFormModalNavigationState:o}},e)};Sa.propTypes={children:n().node.isRequired};const Cr=Sa,Tr=(0,t.lazy)(()=>r.e(5905).then(r.bind(r,76761))),Er=()=>{const{url:e}=(0,h.useRouteMatch)(),{categoryUid:a}=(0,h.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(h.Switch,null,t.createElement(h.Route,{path:`${e}/:componentUid`},t.createElement(Tr,{categoryId:a}))))};var Mr=r(53192),xr=r(38702),Rr=r(34446),Ar=r(29489);const Zr=(0,De.default)(R.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Fr=De.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Sr=De.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,In=({label:e,children:a,id:o})=>{const[i,s]=(0,t.useState)(!0),l=(0,Yn.M)("subnav-list",o),d=()=>{s(c=>!c)};return t.createElement(R.x,null,t.createElement(Zr,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},t.createElement(he.k,{justifyContent:"space-between"},t.createElement(Fr,{onClick:d,"aria-expanded":i,"aria-controls":l},t.createElement(Sr,{rotated:i},t.createElement(un.CarretDown,{"aria-hidden":!0})),t.createElement(R.x,{paddingLeft:2},t.createElement(ne.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&t.createElement("ul",{id:l},t.Children.map(a,(c,p)=>t.createElement("li",{key:p},c))))};In.defaultProps={id:void 0},In.propTypes={children:Z.node.isRequired,id:Z.string,label:Z.string.isRequired};var La=r(52305),Lr=r(39785),Nr=r(41609),Or=r.n(Nr),Pr=r(89734),Na=r.n(Pr),Dr=r(18446),Ir=r.n(Dr),$r=r(63852);const jr=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:s,modifiedData:l,initialData:d}=(0,Ge.Z)(),c=(0,f.useNotification)(),{trackUsage:p}=(0,f.useTracking)(),[y,g]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:A}=(0,ce.Z)(),x=Na()(Object.keys(a).map(U=>({name:U,title:U,isEditable:i,onClickEdit(le,_){le.stopPropagation(),I?A(_.name):M()},links:Na()(a[U].map(le=>({name:le.uid,to:`/plugins/${j.Z}/component-categories/${U}/${le.uid}`,title:le.schema.displayName})),le=>le.title)})),U=>U.title),I=!Object.keys(o).some(U=>o[U].isTemporary===!0)&&!Object.keys(e).some(U=>e[U].isTemporary===!0)&&Ir()(l,d),z=()=>{I?(p("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):M()},G=()=>{I?(p("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):M()},F=()=>{I?(p("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):M()},M=()=>{c({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},N=s.filter(U=>U.visible),X=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:z},links:N.filter(U=>U.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:G},links:N.filter(U=>U.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:F},links:x}],te=U=>y?(0,$r.ZP)(U,ze()(y),{keys:[le=>ze()(le.title)]}):U;return{menu:(()=>X.map(U=>U.links.some(_=>!Or()(_.links))?{...U,links:U.links.map(_=>({..._,links:te(_.links)}))}:{...U,links:te(U.links)}))(),searchValue:y,onSearchChange:g}},zr=()=>{const{menu:e,searchValue:a,onSearchChange:o}=jr(),{formatMessage:i}=(0,v.useIntl)();return t.createElement(Mr.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(xr.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:s=>o(s.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(Rr.Z,null,e.map(s=>t.createElement(t.Fragment,{key:s.name},t.createElement(Ar.D,{label:i({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(l=>l.links?t.createElement(In,{key:l.name,label:Be()(l.title)},l.links.map(d=>t.createElement(La.E,{as:h.NavLink,to:d.to,active:d.active,key:d.name,isSubSectionChild:!0},Be()(i({id:d.name,defaultMessage:d.title}))))):t.createElement(La.E,{as:h.NavLink,to:l.to,active:l.active,key:l.name},Be()(i({id:l.name,defaultMessage:l.title}))))),s.customLink&&t.createElement(R.x,{paddingLeft:7},t.createElement(Lr.A,{onClick:s.customLink.onClick,startIcon:t.createElement(_e.default,null),marginTop:2},i({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))},Oa=(0,t.lazy)(()=>r.e(5905).then(r.bind(r,76761))),Br=()=>{const{formatMessage:e}=(0,v.useIntl)(),a=e({id:`${j.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,f.useGuidedTour)(),i=(0,t.useRef)(o);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(f.CheckPagePermissions,{permissions:T.Z.main},t.createElement(S.Helmet,{title:a}),t.createElement(Cr,null,t.createElement(br,null,t.createElement(B.A,{sideNav:t.createElement(zr,null)},t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(h.Switch,null,t.createElement(h.Route,{path:`/plugins/${j.Z}/content-types/create-content-type`,component:Oa}),t.createElement(h.Route,{path:`/plugins/${j.Z}/content-types/:uid`,component:Oa}),t.createElement(h.Route,{path:`/plugins/${j.Z}/component-categories/:categoryUid`,component:Er})))))))}},5002:(W,q,r)=>{"use strict";r.d(q,{Z:()=>S});var t=r(96124);const S=v=>`${t.Z}.${v}`},89881:(W,q,r)=>{var t=r(47816),h=r(99291),S=h(t);W.exports=S},23933:(W,q,r)=>{var t=r(44239),h=r(37005),S="[object RegExp]";function v(f){return h(f)&&t(f)==S}W.exports=v},69199:(W,q,r)=>{var t=r(89881),h=r(98612);function S(v,f){var B=-1,T=h(v)?Array(v.length):[];return t(v,function(j,Z,n){T[++B]=f(j,Z,n)}),T}W.exports=S},82689:(W,q,r)=>{var t=r(29932),h=r(97786),S=r(67206),v=r(69199),f=r(71131),B=r(7518),T=r(85022),j=r(6557),Z=r(1469);function n(b,V,Ce){V.length?V=t(V,function(ee){return Z(ee)?function(ie){return h(ie,ee.length===1?ee[0]:ee)}:ee}):V=[j];var ue=-1;V=t(V,B(S));var ce=v(b,function(ee,ie,me){var ye=t(V,function(u){return u(ee)});return{criteria:ye,index:++ue,value:ee}});return f(ce,function(ee,ie){return T(ee,ie,Ce)})}W.exports=n},71131:W=>{function q(r,t){var h=r.length;for(r.sort(t);h--;)r[h]=r[h].value;return r}W.exports=q},26393:(W,q,r)=>{var t=r(33448);function h(S,v){if(S!==v){var f=S!==void 0,B=S===null,T=S===S,j=t(S),Z=v!==void 0,n=v===null,b=v===v,V=t(v);if(!n&&!V&&!j&&S>v||j&&Z&&b&&!n&&!V||B&&Z&&b||!f&&b||!T)return 1;if(!B&&!j&&!V&&S<v||V&&f&&T&&!B&&!j||n&&f&&T||!Z&&T||!b)return-1}return 0}W.exports=h},85022:(W,q,r)=>{var t=r(26393);function h(S,v,f){for(var B=-1,T=S.criteria,j=v.criteria,Z=T.length,n=f.length;++B<Z;){var b=t(T[B],j[B]);if(b){if(B>=n)return b;var V=f[B];return b*(V=="desc"?-1:1)}}return S.index-v.index}W.exports=h},99291:(W,q,r)=>{var t=r(98612);function h(S,v){return function(f,B){if(f==null)return f;if(!t(f))return S(f,B);for(var T=f.length,j=v?T:-1,Z=Object(f);(v?j--:++j<T)&&B(Z[j],j,Z)!==!1;);return f}}W.exports=h},96347:(W,q,r)=>{var t=r(23933),h=r(7518),S=r(31167),v=S&&S.isRegExp,f=v?h(v):t;W.exports=f},89734:(W,q,r)=>{var t=r(21078),h=r(82689),S=r(5976),v=r(16612),f=S(function(B,T){if(B==null)return[];var j=T.length;return j>1&&v(B,T[0],T[1])?T=[]:j>2&&v(T[0],T[1],T[2])&&(T=[T[0]]),h(B,t(T,1),[])});W.exports=f},7334:(W,q,r)=>{var t=r(79833);function h(S){return t(S).toLowerCase()}W.exports=h},39138:(W,q,r)=>{var t=r(80531),h=r(40180),S=r(62689),v=r(13218),f=r(96347),B=r(88016),T=r(83140),j=r(40554),Z=r(79833),n=30,b="...",V=/\w*$/;function Ce(ue,ce){var ee=n,ie=b;if(v(ce)){var me="separator"in ce?ce.separator:me;ee="length"in ce?j(ce.length):ee,ie="omission"in ce?t(ce.omission):ie}ue=Z(ue);var ye=ue.length;if(S(ue)){var u=T(ue);ye=u.length}if(ee>=ye)return ue;var oe=ee-B(ie);if(oe<1)return ie;var pe=u?h(u,0,oe).join(""):ue.slice(0,oe);if(me===void 0)return pe+ie;if(u&&(oe+=pe.length-oe),f(me)){if(ue.slice(oe).search(me)){var k,tt=pe;for(me.global||(me=RegExp(me.source,Z(V.exec(me))+"g")),me.lastIndex=0;k=me.exec(tt);)var nt=k.index;pe=pe.slice(0,nt===void 0?oe:nt)}}else if(ue.indexOf(t(me),oe)!=oe){var He=pe.lastIndexOf(me);He>-1&&(pe=pe.slice(0,He))}return pe+ie}W.exports=Ce},44908:(W,q,r)=>{var t=r(45652);function h(S){return S&&S.length?t(S):[]}W.exports=h},2407:(W,q,r)=>{"use strict";r.d(q,{$:()=>Z,O:()=>n});var t=r(85893),h=r(71893),S=r(41363),v=r(75515),f=r(41580),B=r(11047),T=r(63237);const j=(0,h.default)(B.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:b})=>b.colors.neutral500};
    }
  }
  :last-of-type ${f.x} {
    display: none;
  }
  :last-of-type ${v.Z} {
    color: ${({theme:b})=>b.colors.neutral800};
    font-weight: ${({theme:b})=>b.fontWeights.bold};
  }
`,Z=({children:b})=>(0,t.jsxs)(j,{inline:!0,as:"li",children:[(0,t.jsx)(v.Z,{variant:"pi",textColor:"neutral600",children:b}),(0,t.jsx)(f.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,t.jsx)(S.ChevronRight,{})})]});Z.displayName="Crumb";const n=({children:b,label:V,...Ce})=>(0,t.jsxs)(B.k,{...Ce,children:[(0,t.jsx)(T.T,{children:V}),(0,t.jsx)("ol",{"aria-hidden":!0,children:b})]});n.displayName="Breadcrumbs"},31950:(W,q,r)=>{"use strict";r.d(q,{h:()=>Te,X:()=>ze});var t=r(67294),h=r(45697),S=r(41363),v=r(41762),f=r(70389),B=r(7801);const T={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},j={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function Z(R=[],w=null,Ee=[]){const we=String(w??"").toLowerCase();return we?R.filter(Se=>Se.props.children.toString().toLowerCase().includes(we)&&Ee.indexOf(Se)<0):R}function n(R,w){if(!w&&R===B.y.DOWN)return T.Open;if(R===B.y.DOWN)return T.Next;if(R===B.y.UP)return T.Previous;if(R===B.y.HOME)return T.First;if(R===B.y.END)return T.Last;if(R===B.y.ESCAPE)return T.Close;if(R===B.y.ENTER)return T.CloseSelect;if(R===B.y.BACKSPACE||R===B.y.CLEAR||R.length===1)return T.Type}function b(R,w,Ee){switch(Ee){case T.First:return 0;case T.Last:return w;case T.Previous:return Math.max(0,R-1);case T.Next:return Math.min(w,R+1);default:return R}}function V(R){(0,f.Z)(R,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:w,top:Ee,left:we})=>{w.scrollTop=Ee,w.scrollLeft=we})}var Ce=r(11047),ue=r(81318),ce=r(88533),ee=r(41580),ie=r(75515),me=r(88655),ye=r(74020),u=r(90608);const oe=({options:R,activeOptionRef:w})=>((0,t.useEffect)(()=>{w.current&&V(w.current)},[w]),R);oe.defaultProps={activeOptionRef:void 0},oe.propTypes={options:h.array.isRequired};var pe=r(54574),k=r(64777),tt=r(63428),nt=r(96404),He=r(7681),Mt=r(63237);const Te=({children:R,clearLabel:w,creatable:Ee,createMessage:we,disabled:Se,error:xt,hasMoreItems:Dt,hint:Je,label:Pe,labelAction:he,loading:xe,loadingMessage:Ge,noOptionsMessage:It,onChange:$t,onClear:Be,onCreateOption:Xt,onInputChange:mt,onLoadMore:Yt,placeholder:ne,required:Jt,value:We,...Rt})=>{const pt=()=>R.find(Y=>Y.props?.value.toLowerCase()===We.toLowerCase()).props?.children,[Re,dt]=(0,t.useState)(0),[De,Kn]=(0,t.useState)(null),[Ie,gt]=(0,t.useState)(R),[Qe,Vn]=(0,t.useState)(!1),[Ae,ut]=(0,t.useState)(""),at=(0,t.useRef)(),ft=(0,t.useRef)(!1),Ke=(0,t.useRef)(),At=(0,t.useRef)(),Qt=(0,t.useRef)(),jt=(0,t.useRef)(!0),Ze=(0,v.M)("combobox"),yt=`${Ze}-label`;if(!Pe&&!Rt["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,t.useEffect)(()=>{gt(Z(R,Ae))},[Ae,R]),(0,t.useEffect)(()=>{Qe&&at.current&&V(at.current)},[Re,Qe]),(0,t.useLayoutEffect)(()=>{jt.current&&(jt.current=!1)},[We]);const _e=Qe?`${Ze}-${Re}`:"",zt=()=>{$t(null),ut("")},_t=Y=>{mt&&mt(Y);const ge=Ke.current.value;gt(Z(R,ge)),dt(0),Kn(null),Ae!==ge&&ut(ge),Qe||Xe(!0,!1)},en=Y=>{const{key:ge}=Y,$e=Ee&&Ae?Ie.length:Ie.length-1,ot=n(ge,Qe);switch(We&&!Ae&&ge===B.y.BACKSPACE&&zt(),ot){case T.Next:{if(Re===$e){et(0);break}et(b(Re,$e,ot));break}case T.Previous:{if(Re===0){et($e);break}et(b(Re,$e,ot));break}case T.Last:case T.First:{if(Re===$e){et(0);break}et(b(Re,$e,ot));break}case T.CloseSelect:Y.preventDefault(),Ut(Re);break;case T.Close:Y.preventDefault(),Xe(!1);break;case T.Open:Xe(!0);break}},Hn=Y=>{if(Y.preventDefault(),We&&!ft.current&&ut(""),ft.current){ft.current=!1;return}Xe(!1,!1)},et=Y=>{dt(Y)},Bt=Y=>{et(Y),Ut(Y)},kt=()=>{ft.current=!0},Ut=Y=>{const ge=Ie[Y];if(ut(""),ge){$t(ge.props.value),Xe(!1);return}Ee&&(Xt(Ae),Xe(!1))},Xe=(Y,ge=!0)=>{Vn(Y),ge&&Ke.current.focus()},qt=t.Children.toArray(Ie).map((Y,ge)=>{const $e=Re===ge;return(0,t.cloneElement)(Y,{id:`${Ze}-${ge}`,"aria-selected":De===ge,"aria-posinset":ge+1,"aria-setsize":t.Children.toArray(Ie).length,ref(ot){$e&&(at.current=ot)},onClick:()=>Bt(ge),onMouseDown:kt,isSelected:$e})}),tn=()=>{Ke.current.focus(),Be&&Be(),zt()},nn=()=>{Ke.current.focus(),Xe(!0)},Zt=()=>{const Y=Ie.findIndex(ge=>ge.props?.children===Ae);return Ae&&Y===-1},an=Y=>{Y.preventDefault(),Xe(Y,!0)};return t.createElement(pe.g,{hint:Je,error:xt,id:Ze,required:Jt},t.createElement(Mt.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},We),t.createElement(He.K,{spacing:Pe||Je||xt?1:0},Pe&&t.createElement(k.Q,{action:he},Pe),t.createElement(ye.d8,{ref:At,$disabled:Se,hasError:xt},t.createElement(ye.fv,{wrap:"wrap"},!Ae&&We&&t.createElement(ye.K7,{id:`${Ze}-selected-value`},t.createElement(ie.Z,null,pt())),t.createElement(ye.II,{"aria-activedescendant":_e,"aria-autocomplete":"list","aria-controls":`${Ze}-listbox`,"aria-disabled":Se,"aria-expanded":Qe,"aria-haspopup":"listbox","aria-labelledby":Pe?yt:void 0,autoComplete:"off",autoCorrect:"off",id:Ze,onBlur:Se?void 0:Hn,onClick:Se?void 0:an,onInput:Se?void 0:_t,onKeyDown:Se?void 0:en,placeholder:We?"":ne,readOnly:Se,ref:Ke,required:Jt,role:"combobox",spellCheck:"off",type:"text",value:Ae})),t.createElement(Ce.k,null,(We||Ae)&&t.createElement(ue.zb,{id:`${Ze}-clear`,"aria-label":w,disabled:Se,paddingLeft:3,as:"button",onClick:tn,type:"button"},t.createElement(S.Cross,null)),t.createElement(ue.AV,{disabled:Se,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:nn,tabIndex:-1,type:"button"},t.createElement(S.CarretDown,null)))),t.createElement(tt.J,null),t.createElement(nt.c,null)),Qe&&t.createElement(ce.J,{id:`${Ze}-popover`,source:At,spacing:4,fullWidth:!0,intersectionId:`${Ze}-listbox-popover-intersection`,onReachEnd:Dt&&!xe?Yt:void 0},t.createElement("div",{role:"listbox",ref:Qt,id:`${Ze}-listbox`,"aria-labelledby":Pe?yt:void 0},(Boolean(Ie.length)||Ee)&&t.createElement(t.Fragment,null,t.createElement(oe,{activeOptionRef:at,options:qt}),Zt()&&Ee&&t.createElement(u.O,{isSelected:Re===Ie.length,ref:Y=>{Re===Ie.length&&(at.current=Y)},onMouseDown:kt,onClick:()=>Ut(),taindex:0},we(Ae))),!Ie.length&&!Ee&&!xe&&t.createElement(ee.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:at},t.createElement(ie.Z,{textColor:"neutral800"},It(Ae))),xe&&t.createElement(Ce.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},t.createElement(me.a,{small:!0},Ge)))))},ze=R=>t.createElement(Te,{...R,creatable:!0});Te.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:R=>`Create "${R}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},ze.defaultProps=Te.defaultProps,Te.propTypes={"aria-label":h.string,children:h.oneOfType([h.arrayOf(h.node),h.node]),clearLabel:h.string,creatable:h.bool,createMessage:h.func,disabled:h.bool,error:h.string,hasMoreItems:h.bool,hint:h.oneOfType([h.string,h.node,h.arrayOf(h.node)]),label:h.string,labelAction:h.element,loading:h.bool,loadingMessage:h.string,noOptionsMessage:h.func,onChange:h.func.isRequired,onClear:h.func,onCreateOption:h.func,onInputChange:h.func,onLoadMore:h.func,placeholder:h.string,value:h.string},ze.propTypes={...Te.propTypes,onCreateOption:h.func.isRequired}},90608:(W,q,r)=>{"use strict";r.d(q,{O:()=>f});var t=r(67294),h=r(45697),S=r(75515),v=r(74020);const f=(0,t.forwardRef)(({isSelected:B,children:T,...j},Z)=>t.createElement(v.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:B,ref:Z,...j},t.createElement(S.Z,{textColor:B?"primary600":"neutral800",fontWeight:B?"bold":null},T)));f.defaultProps={isSelected:!1},f.propTypes={children:h.oneOfType([h.string,h.number]).isRequired,isSelected:h.bool},f.displayName="ComboboxOption"},74020:(W,q,r)=>{"use strict";r.d(q,{II:()=>j,K7:()=>B,Zq:()=>Z,d8:()=>f,fv:()=>T});var t=r(71893),h=r(41580),S=r(11047),v=r(15585);const f=(0,t.default)(S.k)`
  position: relative;
  border: 1px solid ${({theme:n,hasError:b})=>b?n.colors.danger600:n.colors.neutral200};
  padding-right: ${({theme:n})=>n.spaces[3]};
  padding-left: ${({theme:n})=>n.spaces[3]};
  border-radius: ${({theme:n})=>n.borderRadius};
  background: ${({theme:n})=>n.colors.neutral0};

  ${({theme:n,$disabled:b})=>b?`
    color: ${n.colors.neutral600};
    background: ${n.colors.neutral150};
  `:void 0}

  ${(0,v.k3)()}
`,B=t.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,T=(0,t.default)(S.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,j=t.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:n})=>n.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,Z=(0,t.default)(h.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:n,theme:b})=>n&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:n})=>n.colors.primary100};
  }
`},39785:(W,q,r)=>{"use strict";r.d(q,{A:()=>V});var t=r(85893),h=r(67294),S=r(71893),v=r(41363),f=r(41580),B=r(75515),T=r(11047),j=r(15585);const Z=S.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,n=S.default.div`
  animation: ${Z} 2s infinite linear;
  will-change: transform;
`,b=(0,S.default)(T.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:Ce})=>Ce.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:Ce})=>Ce.colors.primary600};
  }

  ${j.BF}
`,V=h.forwardRef(({children:Ce,startIcon:ue,endIcon:ce,onClick:ee,disabled:ie=!1,loading:me=!1,...ye},u)=>{const oe=ee&&!ie?ee:void 0,pe=ie||me;return(0,t.jsxs)(b,{ref:u,"aria-disabled":pe,onClick:oe,as:"button",type:"button",...ye,children:[(ue||me)&&(0,t.jsx)(f.x,{as:"span",paddingRight:2,"aria-hidden":!0,children:me?(0,t.jsx)(n,{children:(0,t.jsx)(v.Loader,{})}):ue}),(0,t.jsx)(B.Z,{variant:"pi",textColor:pe?"neutral600":"primary600",children:Ce}),ce&&(0,t.jsx)(f.x,{as:"span",paddingLeft:2,"aria-hidden":!0,children:ce})]})});V.displayName="TextButton"}}]);
