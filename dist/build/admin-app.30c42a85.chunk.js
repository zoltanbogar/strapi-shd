(self.webpackChunksmarthomedoctor_strapi=self.webpackChunksmarthomedoctor_strapi||[]).push([[5538],{95423:(j,E,e)=>{var t={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function i(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+o+"'");throw g.code="MODULE_NOT_FOUND",g});var v=t[o],f=v[0];return e.e(v[1]).then(()=>e.t(f,19))}i.keys=()=>Object.keys(t),i.id=95423,j.exports=i},42243:(j,E,e)=>{"use strict";e.d(E,{Z:()=>dt});var t=e(53209),i=e(68547),o=e(67294),v=e(97132),f=e(45697),g=e.n(f),T=e(41580),b=e(7681),Z=e(185),Y=e(11047),B=e(29728),y=e(16364),C=e(75515),W=e(80831),A=e(36206),w=e(79690);const P=({onSubmit:H,schema:Re})=>{const{formatMessage:le}=(0,v.useIntl)();return o.createElement(A.ZP,null,o.createElement(Z.o,null,o.createElement(A.bU,null,o.createElement(W.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:H,validationSchema:Re,validateOnChange:!1},({values:ae,errors:je,handleChange:st})=>o.createElement(i.Form,{noValidate:!0},o.createElement(A.sg,null,o.createElement(w.Z,null),o.createElement(T.x,{paddingTop:6,paddingBottom:7},o.createElement(C.Z,{as:"h1",variant:"alpha"},le({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),je.errorMessage&&o.createElement(C.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},le({id:je.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(b.K,{spacing:6},o.createElement(y.o,{error:je.email?le({id:je.email,defaultMessage:"This email is invalid."}):"",value:ae.email,onChange:st,label:le({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:le({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),o.createElement(B.z,{type:"submit",fullWidth:!0},le({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),o.createElement(Y.k,{justifyContent:"center"},o.createElement(T.x,{paddingTop:4},o.createElement(i.Link,{to:"/auth/login"},le({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};P.defaultProps={onSubmit:H=>H.preventDefault()},P.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const K=P,p=()=>{const{formatMessage:H}=(0,v.useIntl)();return o.createElement(A.ZP,null,o.createElement(Z.o,null,o.createElement(A.bU,null,o.createElement(A.sg,null,o.createElement(w.Z,null),o.createElement(T.x,{paddingTop:6,paddingBottom:7},o.createElement(C.Z,{as:"h1",variant:"alpha"},H({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),o.createElement(C.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),o.createElement(T.x,{paddingTop:4},o.createElement(C.Z,null,H({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),o.createElement(Y.k,{justifyContent:"center"},o.createElement(T.x,{paddingTop:4},o.createElement(i.Link,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},xe=()=>{const{formatMessage:H}=(0,v.useIntl)(),le=(0,i.useQuery)().get("info")||H({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return o.createElement(A.ZP,null,o.createElement(Z.o,null,o.createElement(A.bU,null,o.createElement(A.sg,null,o.createElement(w.Z,null),o.createElement(T.x,{paddingTop:6,paddingBottom:7},o.createElement(C.Z,{as:"h1",variant:"alpha"},H({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),o.createElement(C.Z,null,le),o.createElement(T.x,{paddingTop:4},o.createElement(C.Z,null,H({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),o.createElement(Y.k,{justifyContent:"center"},o.createElement(T.x,{paddingTop:4},o.createElement(i.Link,{to:"/auth/login"},H({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var fe=e(71893),Ue=e(27361),a=e.n(Ue),Pe=e(57557),M=e.n(Pe),S=e(49656),G=e(11817),$=e(36213),_=e(11276),Ee=e(74571),oe=e(94123),F=e(8934),ie=e(68070);const Pt=(0,fe.default)(T.x)`
  text-align: center;
`,it=fe.default.a`
  color: ${({theme:H})=>H.colors.primary600};
`,ft=(0,fe.default)(y.o)`
  ::-ms-reveal {
    display: none;
  }
`,ve=({authType:H,fieldsToDisable:Re,noSignin:le,onSubmit:ae,schema:je})=>{const st=(0,i.useNotification)(),{push:ue}=(0,S.useHistory)(),[ze,Be]=(0,o.useState)(!1),[Ve,_e]=(0,o.useState)(!1),[Xe,ct]=(0,o.useState)(0),[at,mt]=(0,o.useState)({}),{trackUsage:Qe}=(0,i.useTracking)(),{formatMessage:ee}=(0,v.useIntl)(),Ae=(0,i.useQuery)().get("registrationToken");return(0,o.useEffect)(()=>{Ae&&(async()=>{try{const{data:{data:de}}=await G.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Ae}`);de&&mt(de)}catch(de){const ce=a()(de,["response","data","message"],"An error occurred");st({type:"warning",message:ce}),ue(`/auth/oops?info=${encodeURIComponent(ce)}`)}})()},[Ae]),o.createElement(A.ZP,null,o.createElement(A.bU,null,o.createElement(W.Formik,{enableReinitialize:!0,initialValues:{firstname:at.firstname||"",lastname:at.lastname||"",email:at.email||"",password:"",confirmPassword:"",registrationToken:Ae||void 0,news:!1},onSubmit:async(Me,de)=>{try{await je.validate(Me,{abortEarly:!1}),Xe>0&&H==="register-admin"&&Qe("didSubmitWithErrorsFirstAdmin",{count:Xe.toString()}),ae(Ae?{userInfo:M()(Me,["registrationToken"]),registrationToken:Ae}:Me,de)}catch(ce){const Se=(0,i.getYupInnerErrors)(ce);ct(Xe+1),de.setErrors(Se)}},validateOnChange:!1},({values:Me,errors:de,handleChange:ce})=>o.createElement(i.Form,{noValidate:!0},o.createElement(Z.o,null,o.createElement(A.sg,null,o.createElement(w.Z,null),o.createElement(T.x,{paddingTop:6,paddingBottom:1},o.createElement(C.Z,{as:"h1",variant:"alpha"},ee({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),o.createElement(Pt,{paddingBottom:7},o.createElement(C.Z,{variant:"epsilon",textColor:"neutral600"},ee({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),o.createElement(b.K,{spacing:6},o.createElement(_.r,{gap:4},o.createElement(Ee.P,{col:6},o.createElement(y.o,{name:"firstname",required:!0,value:Me.firstname,error:de.firstname?ee(de.firstname):void 0,onChange:ce,label:ee({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),o.createElement(Ee.P,{col:6},o.createElement(y.o,{name:"lastname",value:Me.lastname,onChange:ce,label:ee({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),o.createElement(y.o,{name:"email",disabled:Re.includes("email"),value:Me.email,onChange:ce,error:de.email?ee(de.email):void 0,required:!0,label:ee({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),o.createElement(ft,{name:"password",onChange:ce,value:Me.password,error:de.password?ee(de.password):void 0,endAction:o.createElement(ie.Z,{onClick:Se=>{Se.preventDefault(),Be(Ye=>!Ye)},label:ee(ze?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ze?o.createElement(F.default,null):o.createElement(oe.default,null)),hint:ee({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:ee({id:"global.password",defaultMessage:"Password"}),type:ze?"text":"password"}),o.createElement(ft,{name:"confirmPassword",onChange:ce,value:Me.confirmPassword,error:de.confirmPassword?ee(de.confirmPassword):void 0,endAction:o.createElement(ie.Z,{onClick:Se=>{Se.preventDefault(),_e(Ye=>!Ye)},label:ee(Ve?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ve?o.createElement(F.default,null):o.createElement(oe.default,null)),required:!0,label:ee({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ve?"text":"password"}),o.createElement($.X,{onValueChange:Se=>{ce({target:{value:Se,name:"news"}})},value:Me.news,name:"news","aria-label":"news"},ee({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:o.createElement(it,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:o.createElement(it,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),o.createElement(B.z,{fullWidth:!0,size:"L",type:"submit"},ee({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!le&&o.createElement(T.x,{paddingTop:4},o.createElement(Y.k,{justifyContent:"center"},o.createElement(i.Link,{label:"Auth.link.signin",to:"/auth/login"},ee({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};ve.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:H=>H.preventDefault()},ve.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const lt=ve,tt=(0,fe.default)(y.o)`
  ::-ms-reveal {
    display: none;
  }
`,$e=({onSubmit:H,schema:Re})=>{const[le,ae]=(0,o.useState)(!1),[je,st]=(0,o.useState)(!1),{formatMessage:ue}=(0,v.useIntl)();return o.createElement(A.ZP,null,o.createElement(Z.o,null,o.createElement(A.bU,null,o.createElement(W.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:H,validationSchema:Re,validateOnChange:!1},({values:ze,errors:Be,handleChange:Ve})=>o.createElement(i.Form,{noValidate:!0},o.createElement(A.sg,null,o.createElement(w.Z,null),o.createElement(T.x,{paddingTop:6,paddingBottom:7},o.createElement(C.Z,{as:"h1",variant:"alpha"},ue({id:"global.reset-password",defaultMessage:"Reset password"}))),Be.errorMessage&&o.createElement(C.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ue({id:Be.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(b.K,{spacing:6},o.createElement(tt,{name:"password",onChange:Ve,value:ze.password,error:Be.password?ue({id:Be.password,defaultMessage:"This field is required."}):void 0,endAction:o.createElement(ie.Z,{onClick:_e=>{_e.preventDefault(),ae(Xe=>!Xe)},label:ue(le?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},le?o.createElement(F.default,null):o.createElement(oe.default,null)),hint:ue({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ue({id:"global.password",defaultMessage:"Password"}),type:le?"text":"password"}),o.createElement(tt,{name:"confirmPassword",onChange:Ve,value:ze.confirmPassword,error:Be.confirmPassword?ue({id:Be.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:o.createElement(ie.Z,{onClick:_e=>{_e.preventDefault(),st(Xe=>!Xe)},label:ue(le?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},je?o.createElement(F.default,null):o.createElement(oe.default,null)),required:!0,label:ue({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:je?"text":"password"}),o.createElement(B.z,{fullwidth:!0,type:"submit"},ue({id:"global.change-password",defaultMessage:"Change password"})))))),o.createElement(Y.k,{justifyContent:"center"},o.createElement(T.x,{paddingTop:4},o.createElement(i.Link,{to:"/auth/login"},ue({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};$e.defaultProps={onSubmit:H=>H.preventDefault()},$e.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const nt=$e;var ut=function(){return window&&window.strapi&&window.strapi.isEE?e(9442).Z:e(73347).Z}(),ot={"forgot-password":{Component:K,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:p,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:ut,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required),password:t.Z_().required(i.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:xe,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:lt,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(i.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required),registrationToken:t.Z_().required(i.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:lt,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(i.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),email:t.Z_().email(i.translatedErrors.email).strict().lowercase(i.translatedErrors.lowercase).required(i.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:nt,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)})}};const dt=ot},87751:(j,E,e)=>{"use strict";e.d(E,{Z:()=>g});var t=e(96486);const o={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var v=function(){return window&&window.strapi&&window.strapi.isEE?e(2199).Z:e(69623).Z}(),f=(0,t.merge)(o,v);const g=f},94096:(j,E,e)=>{"use strict";e.r(E),e.d(E,{default:()=>sn});var t=e(67294),i=e(49656),o=e(42675),v=e(38992),f=e(82492),g=e.n(f),T=e(78718),b=e.n(T),Z=e(23560),Y=e.n(Z),B=e(41143),y=e.n(B),C=e(15482),W=e(23998),A=e(35281);const w=(u,s)=>{let n=A.compose;const l=[];u.forEach(h=>{l.push(h())});const d=(0,A.createStore)(P(s,{}),{},n((0,A.applyMiddleware)(...l)));return d.asyncReducers={},d.injectReducer=(h,R)=>{d.asyncReducers[h]=R,d.replaceReducer(P(s,d.asyncReducers))},d},P=(u,s)=>(0,A.combineReducers)({...u,...s}),K=w;var pe=e(42775),p=e(68547),Te=e(11817),xe=e(727),fe=e(97132),Ue=e(45697),a=e.n(Ue);const Pe=({component:u,path:s,...n})=>{const{pathname:l,search:d}=(0,i.useLocation)();return t.createElement(i.Route,{path:s,render:h=>p.auth.getToken()!==null?t.createElement(u,{...n,...h}):t.createElement(i.Redirect,{to:{pathname:"/auth/login",search:l!=="/"&&`?redirectTo=${encodeURIComponent(`${l}${d}`)}`}})})};Pe.propTypes={component:a().any.isRequired,path:a().string.isRequired};const M=(0,t.memo)(Pe);var S=e(38683),G=e(87462),$=e(64572),_=e(15861),Ee=e(70885),oe=e(45987),F=e(64687),ie=e.n(F),Pt=e(68929),it=e.n(Pt),ft=e(27361),ve=e.n(ft),lt=e(57557),tt=e.n(lt);const $e="GUIDED_TOUR_CURRENT_STEP",nt="GUIDED_TOUR_COMPLETED_STEPS",ut="GUIDED_TOUR_SKIPPED",ot=JSON.parse,dt=JSON.stringify,Re={clear(){localStorage.removeItem($e),localStorage.removeItem(nt)},addCompletedStep(u){const s=ot(localStorage.getItem(nt))?.slice()||[];s.includes(u)||(s.push(u),localStorage.setItem(nt,dt(s)))},addCurrentStep(u){localStorage.setItem($e,dt(u))},setSkipped(u){localStorage.setItem(ut,dt(u))},get(u){return ot(localStorage.getItem(u))}};var le=e(50592),ae=e(27858);const st=u=>u;var ue=e(60612),ze=e(96486);const Be={formErrors:{},modifiedData:{},requestError:null},Ve=(u,s)=>(0,ue.default)(u,n=>{switch(s.type){case"ON_CHANGE":{(0,ze.set)(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Be;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}});var _e=e(25108),Xe=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function ct(u,s){var n=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);s&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(u,d).enumerable})),n.push.apply(n,l)}return n}function at(u){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?ct(Object(n),!0).forEach(function(l){(0,$.Z)(u,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(n,l))})}return u}var mt=function(){return window&&window.strapi&&window.strapi.isEE?e(98837).Z:e(42243).Z}(),Qe=function(s){var n=s.hasAdmin,l=s.setHasAdmin,d=(0,i.useHistory)(),h=d.push,R=d.location.search,D=(0,le.Z)(),me=D.changeLocale,J=(0,p.useGuidedTour)(),se=J.setSkipped,U=(0,p.useTracking)(),z=U.trackUsage,V=(0,i.useRouteMatch)("/auth/:authType"),O=V.params.authType,x=(0,p.useQuery)(),ne=ve()(mt,O,{}),we=ne.Component,vt=ne.endPoint,yt=ne.fieldsToDisable,gt=ne.fieldsToOmit,Ut=ne.inputsPrefix,jt=ne.schema,nn=(0,oe.Z)(ne,Xe),on=(0,t.useReducer)(Ve,Be,st),vs=(0,Ee.Z)(on,2),Qt=vs[0],an=Qt.formErrors,rn=Qt.modifiedData,ln=Qt.requestError,Bt=vs[1],un=Te.Z.CancelToken,Tt=un.source();(0,t.useEffect)(function(){return function(){Tt.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){Bt({type:"RESET_PROPS"})},[O]);var dn=function(he){var X=he.target,Ce=X.name,q=X.value;Bt({type:"ON_CHANGE",keys:Ce,value:q})},cn=function(){var Ke=(0,_.Z)(ie().mark(function he(X,Ce){var q,Le,Oe,be;return ie().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(q=Ce.setSubmitting,Le=Ce.setErrors,q(!0),Oe=tt()(X,gt),be="/admin/".concat(vt),O!=="login"){ge.next=7;break}return ge.next=7,gn(X,be,{setSubmitting:q,setErrors:Le});case 7:if(!(O==="register"||O==="register-admin")){ge.next=10;break}return ge.next=10,pn(X,be,{setSubmitting:q,setErrors:Le});case 10:if(O!=="forgot-password"){ge.next=13;break}return ge.next=13,mn(Oe,be,{setSubmitting:q,setErrors:Le});case 13:if(O!=="reset-password"){ge.next=16;break}return ge.next=16,fn(Oe,be,{setSubmitting:q,setErrors:Le});case 16:case"end":return ge.stop()}},he)}));return function(X,Ce){return Ke.apply(this,arguments)}}(),mn=function(){var Ke=(0,_.Z)(ie().mark(function he(X,Ce,q){var Le,Oe;return ie().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Le=q.setSubmitting,Oe=q.setErrors,Q.prev=1,Q.next=4,(0,Te.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ce),data:X,cancelToken:Tt.token});case 4:h("/auth/forgot-password-success"),Q.next=11;break;case 7:Q.prev=7,Q.t0=Q.catch(1),_e.error(Q.t0),Oe({errorMessage:"notification.error"});case 11:return Q.prev=11,Le(!1),Q.finish(11);case 14:case"end":return Q.stop()}},he,null,[[1,7,11,14]])}));return function(X,Ce,q){return Ke.apply(this,arguments)}}(),gn=function(){var Ke=(0,_.Z)(ie().mark(function he(X,Ce,q){var Le,Oe,be,Q,ge,Ge,He;return ie().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Le=q.setSubmitting,Oe=q.setErrors,re.prev=1,re.next=4,(0,Te.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ce),data:tt()(X,gt),cancelToken:Tt.token});case 4:be=re.sent,Q=be.data.data,ge=Q.token,Ge=Q.user,Ge.preferedLanguage&&me(Ge.preferedLanguage),p.auth.setToken(ge,X.rememberMe),p.auth.setUserInfo(Ge,X.rememberMe),ys(),re.next=23;break;case 14:if(re.prev=14,re.t0=re.catch(1),!re.t0.response){re.next=23;break}if(He=ve()(re.t0,["response","data","error","message"],"Something went wrong"),it()(He).toLowerCase()!=="usernotactive"){re.next=22;break}return h("/auth/oops"),Bt({type:"RESET_PROPS"}),re.abrupt("return");case 22:Oe({errorMessage:He});case 23:return re.prev=23,Le(!1),re.finish(23);case 26:case"end":return re.stop()}},he,null,[[1,14,23,26]])}));return function(X,Ce,q){return Ke.apply(this,arguments)}}(),pn=function(){var Ke=(0,_.Z)(ie().mark(function he(X,Ce,q){var Le,Oe,be,Q,ge,Ge,He,pt,re,ye;return ie().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return Le=q.setSubmitting,Oe=q.setErrors,ke.prev=1,z("willCreateFirstAdmin"),ke.next=5,(0,Te.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ce),data:tt()(X,gt),cancelToken:Tt.token});case 5:if(be=ke.sent,Q=be.data.data,ge=Q.token,Ge=Q.user,p.auth.setToken(ge,!1),p.auth.setUserInfo(Ge,!1),Le(!1),l(!0),He=Ge.roles,He&&(pt=He.find(function(hn){var En=hn.code;return En==="strapi-super-admin"}),pt&&(Re.setSkipped(!1),se(!1),z("didLaunchGuidedtour"))),!(O==="register"&&X.userInfo.news===!0||O==="register-admin"&&X.news===!0)){ke.next=18;break}return h({pathname:"/usecase",search:"?hasAdmin=".concat(n)}),ke.abrupt("return");case 18:ys(),ke.next=25;break;case 21:ke.prev=21,ke.t0=ke.catch(1),z("didNotCreateFirstAdmin"),ke.t0.response&&(re=ke.t0.response.data,ye=(0,ae.Z)(re),Oe({apiErrors:ye}));case 25:case"end":return ke.stop()}},he,null,[[1,21]])}));return function(X,Ce,q){return Ke.apply(this,arguments)}}(),fn=function(){var Ke=(0,_.Z)(ie().mark(function he(X,Ce,q){var Le,Oe,be,Q,ge,Ge,He,pt;return ie().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return Le=q.setErrors,Oe=q.setSubmitting,ye.prev=1,ye.next=4,(0,Te.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Ce),data:at(at({},X),{},{resetPasswordToken:x.get("code")}),cancelToken:Tt.token});case 4:be=ye.sent,Q=be.data.data,ge=Q.token,Ge=Q.user,p.auth.setToken(ge,!1),p.auth.setUserInfo(Ge,!1),h("/"),ye.next=16;break;case 13:ye.prev=13,ye.t0=ye.catch(1),ye.t0.response&&(He=ve()(ye.t0,["response","data","message"],"Something went wrong"),pt=ve()(ye.t0,["response","data","statusCode"],400),Bt({type:"SET_REQUEST_ERROR",errorMessage:He,errorStatus:pt}),Le({errorMessage:He}));case 16:return ye.prev=16,Oe(!1),ye.finish(16);case 19:case"end":return ye.stop()}},he,null,[[1,13,16,19]])}));return function(X,Ce,q){return Ke.apply(this,arguments)}}(),ys=function(){if(O==="login"){var he=x.get("redirectTo"),X=he?decodeURIComponent(he):"/";h(X)}else h("/")};return!mt[O]||n&&O==="register-admin"||p.auth.getToken()?t.createElement(i.Redirect,{to:"/"}):!n&&O!=="register-admin"?t.createElement(i.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):t.createElement(we,(0,G.Z)({},nn,{authType:O,fieldsToDisable:yt,formErrors:an,inputsPrefix:Ut,modifiedData:rn,onChange:dn,onSubmit:cn,requestError:ln,schema:jt}))};Qe.defaultProps={hasAdmin:!1},Qe.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const ee=Qe;var Rt=e(23330),Ae=e(71893),Me=e(80129),de=e(185),ce=e(11047),Se=e(41580),Ye=e(7681),At=e(75515),wt=e(91216),Yt=e(82562),xt=e(16364),Ct=e(39785),Lt=e(29728),Zt=e(79690),Wt=e(36206);const Nt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Ft=(0,Ae.default)(At.Z)`
  text-align: center;
`,Kt=()=>{const u=(0,p.useNotification)(),{push:s,location:n}=(0,i.useHistory)(),{formatMessage:l}=(0,fe.useIntl)(),[d,h]=(0,t.useState)(),[R,D]=(0,t.useState)(""),{firstname:me,email:J}=p.auth.getUserInfo(),{hasAdmin:se}=(0,Me.parse)(n?.search,{ignoreQueryPrefix:!0}),U=d==="other",z=V=>{try{(0,Te.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:J,username:me,firstAdmin:Boolean(!se),persona:{role:V?void 0:d,otherRole:V?void 0:R}}}),u({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Wt.ZP,null,t.createElement(de.o,{labelledBy:"usecase-title"},t.createElement(Wt.bU,null,t.createElement("form",{onSubmit:()=>z(!1)},t.createElement(ce.k,{direction:"column",paddingBottom:7},t.createElement(Zt.Z,null),t.createElement(Se.x,{paddingTop:6,paddingBottom:1,width:(0,p.pxToRem)(250)},t.createElement(Ft,{variant:"alpha",as:"h1",id:"usecase-title"},l({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Ye.K,{spacing:6},t.createElement(wt.P,{id:"usecase","data-testid":"usecase",label:l({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:h,value:d},Nt.map(({intlLabel:V,value:O})=>t.createElement(Yt.W,{key:O,value:O},l(V)))),U&&t.createElement(xt.o,{name:"other",label:l({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:V=>D(V.target.value),"data-testid":"other"}),t.createElement(Lt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!d},l({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(ce.k,{justifyContent:"center"},t.createElement(Se.x,{paddingTop:4},t.createElement(Ct.A,{onClick:()=>z(!0)},l({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var Jt=e(66716);const Gt=async()=>`web-fingerprint-${(await(await Jt.ZP.load()).get()).visitorId}`;var Ht=e(42982);const _t=[];var $t=function(){return window&&window.strapi&&window.strapi.isEE?e(35499).Z:e(77981).Z}();const es=[].concat((0,Ht.Z)($t),(0,Ht.Z)(_t));var Mt=e(48474);const m=(0,t.lazy)(()=>Promise.all([e.e(6914),e.e(801)]).then(e.bind(e,94369)));function c(){const u=(0,p.useNotification)(),{updateProjectSettings:s}=(0,Mt.um)(),{formatMessage:n}=(0,fe.useIntl)(),[{isLoading:l,hasAdmin:d,uuid:h,deviceId:R},D]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),me=(0,p.useAppInfos)(),{get:J}=(0,p.useFetchClient)(),se=(0,t.useMemo)(()=>(0,S.WW)(es.map(({to:x,Component:ne,exact:we})=>(0,S.ot)(ne,x,we))),[]),[U,z]=(0,t.useState)(null);(0,t.useEffect)(()=>{const x=p.auth.getToken();x&&(async()=>{try{const{data:{token:we}}=await(0,p.request)("/admin/renew-token",{method:"POST",body:{token:x}});p.auth.updateToken(we)}catch{p.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:ne,uuid:we,menuLogo:vt,authLogo:yt}}}=await Te.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,p.prefixFileUrlWithBackendUrl)(vt),authLogo:(0,p.prefixFileUrlWithBackendUrl)(yt)});const gt=await Gt();if(we){const{data:{data:Ut}}=await J("/admin/telemetry-properties",{validateStatus:jt=>jt<500});z(Ut);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:gt,eventPropeties:{},userProperties:{environment:me.currentEnvironment},groupProperties:{...Ut,projectId:we}}),headers:{"Content-Type":"application/json"}})}catch{}}D({isLoading:!1,hasAdmin:ne,uuid:we,deviceId:gt})}catch{u({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[u,s]);const V=x=>D(ne=>({...ne,hasAdmin:x})),O=(0,t.useMemo)(()=>({uuid:h,telemetryProperties:U,deviceId:R}),[h,U,R]);return l?t.createElement(p.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(p.LoadingIndicatorPage,null)},t.createElement(xe.z,null,n({id:"skipToContent"})),t.createElement(p.TrackingProvider,{value:O},t.createElement(i.Switch,null,se,t.createElement(i.Route,{path:"/auth/:authType",render:x=>t.createElement(ee,{...x,setHasAdmin:V,hasAdmin:d}),exact:!0}),t.createElement(M,{path:"/usecase",component:Kt}),t.createElement(M,{path:"/",component:m}),t.createElement(i.Route,{path:"",component:Rt.default}))))}const r=c;var L=e(61473),I=e(23724),N=e(37424),k=e(47713);const te={menuLogo:null,authLogo:null},We=(u=te,s)=>(0,ue.default)(u,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}}),De=({children:u,authLogo:s,menuLogo:n,showReleaseNotification:l,showTutorials:d})=>{const[{menuLogo:h,authLogo:R},D]=(0,t.useReducer)(We,te),me=(0,t.useCallback)(({menuLogo:se,authLogo:U})=>D({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:se||n,authLogo:U||s}}),[s,n]),J=(0,t.useMemo)(()=>({logos:{menu:{custom:h,default:n},auth:{custom:R,default:s}},updateProjectSettings:me,showReleaseNotification:l,showTutorials:d}),[h,n,R,s,me,l,d]);return t.createElement(k._5.Provider,{value:J},u)};De.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const Je=De;var et=e(66913),rt=e.n(et),ht=e(93343);const Et=({changeLocale:u,children:s,localeNames:n,messages:l})=>t.createElement(ht.Z.Provider,{value:{changeLocale:u,localeNames:n,messages:l}},s);Et.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const St=Et,Ne="strapi-admin-language",qe=u=>{const s=window.localStorage.getItem(Ne);return{locale:u[s]?s:"en",localeNames:u}},Fe={localeNames:{en:"English"},locale:"en"},Rs=(u=Fe,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return u.localeNames[n]?{...u,locale:n}:u}default:return u}},ts=({children:u,localeNames:s,messages:n})=>{const[{locale:l},d]=(0,t.useReducer)(Rs,Fe,()=>qe(s));(0,t.useEffect)(()=>{window.localStorage.setItem(Ne,l),document.documentElement.setAttribute("lang",l)},[l]);const h=D=>{d({type:"CHANGE_LOCALE",locale:D})},R=rt()(n[l],n.en);return t.createElement(fe.IntlProvider,{locale:l,defaultLocale:"en",messages:R,textComponent:"span"},t.createElement(St,{changeLocale:h,localeNames:s,messages:R},u))};ts.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const As=ts,Cs=(u,s)=>{const n=Object.entries(s),l=n.findIndex(([h])=>h===u);return n.slice(0,l).every(([,h])=>Object.values(h).every(Boolean))},Ls=(u,s)=>{const n=u.split("."),l=n[1],d=Object.entries(s[n[0]]),h=d.findIndex(([D])=>D===l);return d.slice(0,h).every(([,D])=>D)},ss={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Ms=(u=ss,s)=>(0,ue.default)(u,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[l,d]=s.currentStep.split(".");n.guidedTourState[l][d]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}});var Ss=e(36968),zt=e.n(Ss);const Ds=u=>{const s={...u},n=Re.get(nt),l=Re.get($e),d=Re.get(ut);if(n&&n.forEach(h=>{const[R,D]=h.split(".");zt()(s,["guidedTourState",R,D],!0)}),l){const[h,R]=l.split(".");zt()(s,["guidedTourState",h,R],!0),Re.addCompletedStep(l),Re.addCurrentStep(null)}return d!==null&&zt()(s,"isSkipped",d),s},ns=({children:u})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:l,isSkipped:d},h]=(0,t.useReducer)(Ms,ss,Ds),R=U=>{if(U!==null){const z=ve()(n,U),V=Ls(U,n);if(z||d||!V)return null}return Re.addCurrentStep(U),h({type:"SET_CURRENT_STEP",step:U})},D=U=>{h({type:"SET_GUIDED_TOUR_VISIBILITY",value:U})},me=(U,z)=>{Re.addCompletedStep(U),h({type:"SET_STEP_STATE",currentStep:U,value:z})},J=U=>{const z=n[U];if(z){const V=Cs(U,n),O=Object.keys(z)[0],x=z[O];if(V&&!s&&!x)return R(`${U}.${O}`)}return null},se=U=>{Re.setSkipped(U),h({type:"SET_SKIPPED",value:U})};return t.createElement(p.GuidedTourProvider,{guidedTourState:n,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:D,setSkipped:se,setStepState:me,startSection:J,isGuidedTourVisible:l,isSkipped:d},u)};ns.propTypes={children:a().element.isRequired};const Os=ns;var os=e(73935),bs=e(84517),Is=e(30815),as=e(36182);const ks=(0,Ae.default)(Se.x)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:u})=>u.colors.neutral0};
    opacity: 0.9;
  }
`,Us=(0,Ae.default)(Ye.K)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,p.pxToRem)(160)};
`,rs=(0,Ae.default)(Se.x)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:u})=>u.colors.primary600} !important;
    }
  }
`,bt=document.createElement("div"),js="autoReloadOverlayBlocker";bt.setAttribute("id",js);const Bs=Ae.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,ws=(0,Ae.default)(Is.Z)`
  animation: ${Bs} 1s infinite linear;
`,is=({displayedIcon:u,description:s,title:n,isOpen:l})=>{const{formatMessage:d}=(0,fe.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(bt),()=>{document.body.removeChild(bt)}),[]),l?os.createPortal(t.createElement(ks,null,t.createElement(Us,{spacing:6},t.createElement(Ye.K,{spacing:2},t.createElement(ce.k,{justifyContent:"center"},t.createElement(At.Z,{as:"h1",variant:"alpha"},d(n))),t.createElement(ce.k,{justifyContent:"center"},t.createElement(At.Z,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},d(s)))),t.createElement(ce.k,{justifyContent:"center"},u==="reload"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(ws,{width:(0,p.pxToRem)(36),height:(0,p.pxToRem)(36)})),u==="time"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(bs.Z,{width:(0,p.pxToRem)(40),height:(0,p.pxToRem)(40)}))),t.createElement(ce.k,{justifyContent:"center"},t.createElement(Se.x,{paddingTop:2},t.createElement(as.r,{href:"https://docs.strapi.io",isExternal:!0},d({id:"global.documentation",defaultMessage:"Read the documentation"})))))),bt):null};is.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const xs=is,ls=30,us=({children:u})=>{const[s,n]=(0,t.useState)(!1),[{elapsed:l},d]=(0,t.useState)({elapsed:0,start:0}),[h,R]=(0,t.useState)(void 0),D=(x=void 0)=>{n(!0),R(x),d(ne=>({...ne,start:Date.now()}))},me=()=>{n(!1),d({start:0,elapsed:0}),R(void 0)},J=(0,t.useRef)(D),se=(0,t.useRef)(me);(0,t.useEffect)(()=>{let x=null;return s?x=setInterval(()=>l>ls?(clearInterval(x),null):(d(ne=>({...ne,elapsed:Math.round(Date.now()-ne.start)/1e3})),null),1e3):clearInterval(x),()=>{clearInterval(x)}},[s,l]);let U=h?.icon||"reload",z={id:h?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},V={id:h?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};l>ls&&(U="time",z={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},V={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const O=(0,t.useMemo)(()=>({lockApp:J.current,unlockApp:se.current}),[J,se]);return t.createElement(p.AutoReloadOverlayBockerContext.Provider,{value:O},t.createElement(xs,{displayedIcon:U,isOpen:s,description:z,title:V}),u)};us.propTypes={children:a().element.isRequired};const Zs=us;var Ws=e(18986);const Vt=({dispatch:u,notification:s})=>{const{formatMessage:n}=(0,fe.useIntl)(),{message:l,link:d,type:h,id:R,onClose:D,timeout:me,blockTransition:J,title:se}=s,U=x=>typeof x=="string"?x:n(x,x.values),z=(0,t.useCallback)(()=>{D&&D(),u({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,t.useEffect)(()=>{let x;return J||(x=setTimeout(()=>{z()},me||2500)),()=>clearTimeout(x)},[J,z,me]);let V,O;return h==="info"?(V="default",O=n({id:"notification.default.title",defaultMessage:"Information:"})):h==="warning"?(V="danger",O=n({id:"notification.warning.title",defaultMessage:"Warning:"})):h==="softWarning"?(V="warning",O=n({id:"notification.warning.title",defaultMessage:"Warning:"})):(V="success",O=n({id:"notification.success.title",defaultMessage:"Success:"})),se&&(O=typeof se=="string"?se:n(se)),t.createElement(Ws.b,{action:d?t.createElement(as.r,{href:d.url,isExternal:!0},n({id:d.label?.id||d.label,defaultMessage:d.label?.defaultMessage||d.label?.id||d.label})):void 0,onClose:z,closeLabel:"Close",title:O,variant:V},U({id:l?.id||l,defaultMessage:l?.defaultMessage||l?.id||l,values:l?.values}))};Vt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Vt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Ns=Vt,ds={notifId:0,notifications:[]},Fs=(u=ds,s)=>(0,ue.default)(u,n=>{switch(s.type){case"SHOW_NOTIFICATION":{n.notifications.push({id:u.notifId,type:ve()(s,["config","type"],"success"),message:ve()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:ve()(s,["config","link"],null),timeout:ve()(s,["config","timeout"],2500),blockTransition:ve()(s,["config","blockTransition"],!1),onClose:ve()(s,["config","onClose"],null),title:ve()(s,["config","title"],null)}),n.notifId=u.notifId+1;break}case"HIDE_NOTIFICATION":{const l=u.notifications.findIndex(d=>d.id===s.id);l!==-1&&n.notifications.splice(l,1);break}default:return n}}),cs=({children:u})=>{const[{notifications:s},n]=(0,t.useReducer)(Fs,ds),l=d=>{n({type:"SHOW_NOTIFICATION",config:d})};return t.createElement(p.NotificationsProvider,{toggleNotification:l},t.createElement(Ye.K,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(d=>t.createElement(Ns,{key:d.id,dispatch:n,notification:d}))),u)};cs.propTypes={children:a().element.isRequired};const Ks=cs,It=document.createElement("div");It.setAttribute("id","overlayBlocker");const Gs=Ae.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ms=({isOpen:u})=>((0,t.useEffect)(()=>(document.body.appendChild(It),()=>{document.body.removeChild(It)}),[]),u?os.createPortal(t.createElement(Gs,null),It):null);ms.propTypes={isOpen:a().bool.isRequired};const gs=({children:u})=>{const[s,n]=(0,t.useState)(!1),l=()=>{n(!0)},d=()=>{n(!1)};return t.createElement(p.OverlayBlockerContext.Provider,{value:{lockApp:l,unlockApp:d}},u,t.createElement(ms,{isOpen:s}))};gs.propTypes={children:a().node.isRequired};const Hs=gs,Xt="STRAPI_THEME",$s=()=>{const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Xt);return s||localStorage.setItem(Xt,u),s||u},ps=({children:u,themes:s})=>{const[n,l]=(0,t.useState)($s()),d=(0,t.useCallback)(R=>{l(R),localStorage.setItem(Xt,R)},[l]),h=(0,t.useMemo)(()=>({currentTheme:n,onChangeTheme:d,themes:s}),[n,d,s]);return t.createElement(k.Rj.Provider,{value:h},u)};ps.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const zs=ps;var Vs=e(33976);const Xs=Ae.createGlobalStyle`
  body {
    background: ${({theme:u})=>u.colors.neutral100};
  }
`,fs=({children:u})=>{const{currentTheme:s,themes:n}=(0,Mt.M1)();return t.createElement(Vs.f,{theme:n[s]||n.light},u,t.createElement(Xs,null))};fs.propTypes={children:a().element.isRequired};const Qs=fs,Ys=new I.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),hs=({authLogo:u,children:s,components:n,customFields:l,fields:d,getAdminInjectedComponents:h,getPlugin:R,localeNames:D,menu:me,menuLogo:J,messages:se,plugins:U,runHookParallel:z,runHookSeries:V,runHookWaterfall:O,settings:x,showReleaseNotification:ne,showTutorials:we,store:vt,themes:yt})=>t.createElement(zs,{themes:yt},t.createElement(Qs,null,t.createElement(I.QueryClientProvider,{client:Ys},t.createElement(N.Provider,{store:vt},t.createElement(k.ux.Provider,{value:{getAdminInjectedComponents:h}},t.createElement(Je,{authLogo:u,menuLogo:J,showReleaseNotification:ne,showTutorials:we},t.createElement(p.StrapiAppProvider,{getPlugin:R,menu:me,plugins:U,runHookParallel:z,runHookWaterfall:O,runHookSeries:V,settings:x},t.createElement(p.LibraryProvider,{components:n,fields:d},t.createElement(p.CustomFieldsProvider,{customFields:l},t.createElement(As,{messages:se,localeNames:D},t.createElement(Zs,null,t.createElement(Hs,null,t.createElement(Os,null,t.createElement(Ks,null,s))))))))))))));hs.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Js=hs,qs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var kt=e(80660);const _s={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},en="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";var Es=e(25108);class tn{constructor({adminConfig:s,appPlugins:n,library:l,middlewares:d,reducers:h}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:L,head:{favicon:en},locales:["en"],menuLogo:L,notifications:{releases:!0},themes:{light:o.W,dark:v.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=l,this.middlewares=d,this.plugins={},this.reducers=h,this.translations={},this.hooksDict={},this.admin={injectionZones:_s},this.customFields=pe.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);y()(s.to,`link.to should be defined for ${n}`),y()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),y()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);y()(s.to,`link.to should be defined for ${n}`),y()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),y()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),y()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{y()(this.settings[s],"The section does not exist");const l=JSON.stringify(n);y()(n.id,`link.id should be defined for ${l}`),y()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${l}`),y()(n.to,`link.to should be defined for ${l}`),y()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{y()(this.settings[s],"The section does not exist"),y()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(l=>{this.addSettingsLink(s,l)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),Y()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(kt.No),this.createHook(kt.LK),this.createHook(kt.dV),this.createHook(kt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(Es.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),g()(this.configurations.themes.light,this.customConfigurations.theme)),n&&g()(this.configurations.themes.light,n),s&&g()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=(0,W.Bi)()};createSettingSection=(s,n)=>{y()(s.id,"section.id should be defined"),y()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),y()(Array.isArray(n),"TypeError expected links to be an array"),y()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(l=>{this.addSettingsLink(s.id,l)})};createStore=()=>K(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,l)=>{try{return this.admin.injectionZones[s][n][l]||[]}catch(d){return Es.error("Cannot get injected component",d),d}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,l)=>{y()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),y()(l,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(l)};injectAdminComponent=(s,n,l)=>{y()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),y()(l,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(l)};async loadAdminTrads(){const s=this.configurations.locales.map(d=>e(95423)(`./${d}.json`).then(({default:h})=>({data:h,locale:d})).catch(()=>({data:null,locale:d})));return(await Promise.all(s)).reduce((d,h)=>(h.data&&(d[h.locale]=h.data),d),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(R=>{const D=this.appPlugins[R].registerTrads;return D?D({locales:this.configurations.locales}):null}).filter(R=>R),d=(await Promise.all(n)).reduce((R,D)=>{const me=D.reduce((J,se)=>(J[se.locale]=se.data,J),{});return Object.keys(me).forEach(J=>{R[J]={...R[J],...me[J]}}),R},{}),h=this.configurations.locales.reduce((R,D)=>(R[D]={...s[D],...d[D]||{},...this.customConfigurations?.translations?.[D]},R),{});return this.configurations.translations=h,Promise.resolve()}registerHook=(s,n)=>{y()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,pe.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,l=!1,d)=>l?this.hooksDict[s].runWaterfallAsync(n,d):this.hooksDict[s].runWaterfall(n,d);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=b()(qs,this.configurations.locales||[]),{components:{components:l},fields:{fields:d}}=this.library;return t.createElement(Js,{authLogo:this.configurations.authLogo,components:l,fields:d,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(h,R,D=!1)=>this.runHookWaterfall(h,R,D,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(C.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(Ne)||"en"}}),t.createElement(i.BrowserRouter,{basename:W.EZ},t.createElement(r,{store:s}))))}}const sn=({adminConfig:u={},appPlugins:s,library:n,middlewares:l,reducers:d})=>new tn({adminConfig:u,appPlugins:s,library:n,middlewares:l,reducers:d})},93343:(j,E,e)=>{"use strict";e.d(E,{Z:()=>o});var t=e(67294);const o=(0,t.createContext)()},50592:(j,E,e)=>{"use strict";e.d(E,{Z:()=>v});var t=e(67294),i=e(93343);const v=()=>{const{changeLocale:f,localeNames:g,messages:T}=(0,t.useContext)(i.Z);return{changeLocale:f,localeNames:g,messages:T}}},79690:(j,E,e)=>{"use strict";e.d(E,{Z:()=>g});var t=e(67294),i=e(71893),o=e(48474);const v=i.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:T}}=(0,o.um)();return t.createElement(v,{src:T?.custom??T.default,"aria-hidden":!0,alt:""})}},47713:(j,E,e)=>{"use strict";e.d(E,{ux:()=>o,_5:()=>f,$l:()=>T,Rj:()=>Z});var t=e(67294);const o=(0,t.createContext)({}),f=(0,t.createContext)({}),T=(0,t.createContext)({}),Z=(0,t.createContext)({})},80660:(j,E,e)=>{"use strict";e.d(E,{Eo:()=>o,LK:()=>i,No:()=>t,dV:()=>v});const t="Admin/CM/pages/ListView/inject-column-in-table",i="Admin/CM/pages/App/mutate-collection-types-links",o="Admin/CM/pages/EditView/mutate-edit-view-layout",v="Admin/CM/pages/App/mutate-single-types-links"},48474:(j,E,e)=>{"use strict";e.d(E,{um:()=>v,U_:()=>w,Dq:()=>xe,H9:()=>ve,bP:()=>B,$_:()=>qt,rW:()=>Mt,bF:()=>le,G4:()=>Kt,Te:()=>xt,M1:()=>$t});var t=e(67294),i=e(47713);const v=()=>(0,t.useContext)(i._5);var f=e(68547),g=e(60612);const T={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},Z=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_MODELS":{r.collectionTypes=T.collectionTypes,r.singleTypes=T.singleTypes,r.components=T.components,r.isLoading=!0;break}case"GET_MODELS_ERROR":{r.collectionTypes=T.collectionTypes,r.singleTypes=T.singleTypes,r.components=T.components,r.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const L=I=>c.contentTypes.filter(N=>N.isDisplayed&&N.kind===I);r.isLoading=!1,r.collectionTypes=L("collectionType"),r.singleTypes=L("singleType"),r.components=c.components;break}default:return r}}),B=()=>{const m=(0,f.useNotification)(),[c,r]=(0,t.useReducer)(Z,T);(0,t.useEffect)(()=>{L()},[]);const L=async()=>{r({type:"GET_MODELS"});try{const[{data:I},{data:N}]=await Promise.all(["components","content-types"].map(k=>(0,f.request)(`/content-manager/${k}`,{method:"GET"})));r({type:"GET_MODELS_SUCCEDED",contentTypes:N,components:I})}catch{r({type:"GET_MODELS_ERROR"}),m({type:"warning",message:{id:"notification.error"}})}};return{...c,getData:L}},y={data:{},error:null,isLoading:!0},W=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA":{r.isLoading=!0,r.data={},r.error=null;break}case"GET_DATA_SUCCEEDED":{r.data=c.data,r.isLoading=!1,r.error=null;break}case"GET_DATA_ERROR":{r.isLoading=!1,r.error=c.error;break}default:return r}}),w=m=>{const[{data:c,error:r,isLoading:L},I]=(0,t.useReducer)(W,y);return(0,t.useEffect)(()=>{(async()=>{I({type:"GET_DATA"});const{data:k}=await(0,f.request)("/admin/permissions",{method:"GET",params:{role:m}});I({type:"GET_DATA_SUCCEEDED",data:k})})()},[m]),{data:c,error:r,isLoading:L}},P={role:{},permissions:{},isLoading:!0},pe=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA_SUCCEEDED":{r.role=c.role,r.permissions=c.permissions,r.isLoading=!1;break}case"GET_DATA_ERROR":{r.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{r.role.name=c.name,r.role.description=c.description;break}default:return r}});var p=e(25108);const xe=m=>{const c=(0,f.useNotification)(),[r,L]=(0,t.useReducer)(pe,P);(0,t.useEffect)(()=>{m?I(m):L({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[m]);const I=async k=>{try{const[{data:te},{data:Ze}]=await Promise.all([`roles/${k}`,`roles/${k}/permissions`].map(We=>(0,f.request)(`/admin/${We}`,{method:"GET"})));L({type:"GET_DATA_SUCCEEDED",role:te,permissions:Ze})}catch(te){p.error(te),L({type:"GET_DATA_ERROR"}),c({type:"warning",message:{id:"notification.error"}})}},N=(0,t.useCallback)(k=>{L({type:"ON_SUBMIT_SUCCEEDED",...k})},[]);return{...r,onSubmitSucceeded:N}},Ue=(m,c)=>c.map(({permissions:r})=>(0,f.hasPermissions)(m,r)),Pe=async(m,c)=>{const r=Ue(m,c),L=await Promise.all(r);return c.filter((N,k)=>L[k])};var M=e(50361),S=e.n(M);const $=async(m,c,r)=>{const L=Ue(m,c),I=await Promise.all(L),N=c.filter((Ze,We)=>I[We]),k=N.findIndex(Ze=>Ze.to==="/settings");if(k===-1)return[];const te=S()(N);return te[k].notificationsCount=r?1:0,te};var _=e(78114),Ee=e(41916),oe=e(48077),F=e(87751);const ie={generalSectionLinks:[{icon:Ee.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:F.Z.marketplace.main},{icon:oe.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:F.Z.marketplace.main},{icon:_.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},it=(m=ie,c)=>(0,g.default)(m,r=>{switch(c.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:L,authorizedPluginSectionLinks:I}=c.data;r.generalSectionLinks=L,r.pluginsSectionLinks=I;break}case"UNSET_IS_LOADING":{r.isLoading=!1;break}default:return r}}),ve=()=>{const[m,c]=(0,t.useReducer)(it,ie),{allPermissions:r}=(0,f.useRBACProvider)(),{shouldUpdateStrapi:L}=(0,f.useAppInfos)(),{menu:I}=(0,f.useStrapiApp)(),N=(0,t.useRef)(m.generalSectionLinks),k=(0,t.useRef)(L),te=async(We=r)=>{const Je=await Pe(We,I),et=await $(We,N.current,k.current);c({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:et,authorizedPluginSectionLinks:Je}}),c({type:"UNSET_IS_LOADING"})},Ze=(0,t.useRef)(te);return(0,t.useEffect)(()=>{Ze.current(r)},[r,c]),m};var lt=e(27361),tt=e.n(lt),$e=e(23998);const ut=(m,c)=>({...m,isLoading:c}),ot={roles:[],isLoading:!0},H=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA":{r.isLoading=!0,r.roles=[];break}case"GET_DATA_SUCCEEDED":{r.roles=c.data,r.isLoading=!1;break}case"GET_DATA_ERROR":{r.isLoading=!1;break}default:return r}}),le=(m=!0)=>{const c=(0,f.useNotification)(),[{roles:r,isLoading:L},I]=(0,t.useReducer)(H,ot,()=>ut(ot,m));(0,t.useEffect)(()=>{m&&N()},[m]);const N=(0,t.useCallback)(async()=>{try{I({type:"GET_DATA"});const{data:{data:k}}=await $e.be.get("/admin/roles");I({type:"GET_DATA_SUCCEEDED",data:k})}catch(k){const te=tt()(k,["response","payload","message"],"An error occured");I({type:"GET_DATA_ERROR"}),te!=="Forbidden"&&c({type:"warning",message:te})}},[c]);return{roles:r,isLoading:L,getData:N}};var ae=e(96486);const je={menu:[],isLoading:!0},ue=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"CHECK_PERMISSIONS_SUCCEEDED":{c.data.forEach(L=>{L.hasPermission&&(0,ae.set)(r,["menu",...L.path.split("."),"isDisplayed"],L.hasPermission)}),r.menu.forEach((L,I)=>{r.menu[I].links=L.links.filter(N=>N.isDisplayed===!0)}),r.isLoading=!1;break}default:return r}});var ze=e(57557),Be=e.n(ze),Ve=e(89734),_e=e.n(Ve);const ct=m=>_e()(m,c=>c.id),mt=m=>m.map(c=>{const r=c.links.map(L=>({...L,isDisplayed:!1}));return{...c,links:r}});var Qe=e(42982);const Rt=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:F.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:F.Z.settings.users.main}];var Ae=function(){return window&&window.strapi&&window.strapi.isEE?e(95662).Z:e(40928).Z}();const Me=[].concat((0,Qe.Z)(Ae),(0,Qe.Z)(Rt)),ce=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:F.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:F.Z.settings["api-tokens"].main}];var Se=function(){return window&&window.strapi&&window.strapi.isEE?e(8353).Z:e(88506).Z}();const Ye=[].concat((0,Qe.Z)(ce),(0,Qe.Z)(Se)),wt=(m,{settings:c,shouldUpdateStrapi:r})=>{const L=c.global.links,I=ct([...L,...Ye]).map(te=>({...te,hasNotification:te.id==="000-application-infos"&&r})),N=Object.values(Be()(c,"global")),k=[{...c.global,links:I},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Me},...N];return{...m,menu:mt(k)}},xt=(m=!1)=>{const{allPermissions:c}=(0,f.useRBACProvider)(),{shouldUpdateStrapi:r}=(0,f.useAppInfos)(),{settings:L}=(0,f.useStrapiApp)(),[{isLoading:I,menu:N},k]=(0,t.useReducer)(ue,je,()=>wt(je,{settings:L,shouldUpdateStrapi:r}));return(0,t.useEffect)(()=>{m||(async()=>{const Ze=async(et,rt)=>({hasPermission:await(0,f.hasPermissions)(c,et),path:rt}),De=(et=>et.reduce((rt,ht,Et)=>{const St=Dt=>Dt.map((Ne,Ie)=>Ze(Dt[Ie].permissions,`${Et}.links.${Ie}`));return[...rt,...St(ht.links)]},[]))(N),Je=await Promise.all(De);k({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Je})})()},[c,m]),{isLoading:I,menu:N}};var Ct=e(38683);const Lt={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Zt=(m,c)=>(0,g.default)(m,r=>{switch(c.type){case"GET_DATA_SUCCEEDED":{r.isLoading=!1,r.showHeaderLoader=!1,r.initialData=(0,ae.pick)(c.data,m.fieldsToPick),r.modifiedData=(0,ae.pick)(c.data,m.fieldsToPick);break}case"ON_CANCEL":{r.modifiedData=m.initialData,r.formErrors={};break}case"ON_CHANGE":{c.inputType==="password"&&!c.value?(0,ae.unset)(r.modifiedData,c.keys.split(".")):c.keys.includes("username")&&!c.value?(0,ae.set)(r.modifiedData,c.keys.split("."),null):(0,ae.set)(r.modifiedData,c.keys.split("."),c.value);break}case"ON_SUBMIT":{r.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{r.initialData=(0,ae.pick)(c.data,m.fieldsToPick),r.modifiedData=(0,ae.pick)(c.data,m.fieldsToPick),r.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{r.formErrors=c.errors,r.showHeaderButtonLoader=!1;break}default:return r}}),Nt=(m,c)=>({...m,fieldsToPick:c});var Ft=e(25108);const Kt=(m,c,r,L)=>{const[{formErrors:I,initialData:N,isLoading:k,modifiedData:te,showHeaderButtonLoader:Ze,showHeaderLoader:We},De]=(0,t.useReducer)(Zt,Lt,()=>Nt(Lt,L)),Je=(0,f.useNotification)(),{lockApp:et,unlockApp:rt}=(0,f.useOverlayBlocker)();return(0,t.useEffect)(()=>{m&&(async()=>{try{const{data:Ie}=await(0,f.request)(m,{method:"GET"});De({type:"GET_DATA_SUCCEEDED",data:Ie,fieldsToPick:L})}catch(Ie){Ft.error(Ie.response),Je({type:"warning",message:{id:"notification.error"}})}})()},[m]),[{formErrors:I,initialData:N,isLoading:k,modifiedData:te,showHeaderButtonLoader:Ze,showHeaderLoader:We},De,{handleCancel:()=>{De({type:"ON_CANCEL"})},handleChange:({target:{name:Ne,value:Ie,type:qe}})=>{De({type:"ON_CHANGE",inputType:qe,keys:Ne,value:Ie})},handleSubmit:async Ne=>{Ne.preventDefault();const Ie=await(0,Ct.R6)(te,c);if(De({type:"SET_ERRORS",errors:Ie||{}}),!Ie)try{et(),De({type:"ON_SUBMIT"});const qe=(0,ae.omit)(te,["confirmPassword","registrationToken"]);qe.roles&&(qe.roles=qe.roles.map(Ot=>Ot.id));const{data:Fe}=await(0,f.request)(m,{method:"PUT",body:qe});r(Fe),De({type:"ON_SUBMIT_SUCCEEDED",data:Fe}),Je({type:"success",message:{id:"notification.success.saved"}})}catch(qe){const Fe=(0,ae.get)(qe,"response.payload",{data:{}});(0,ae.has)(Fe,"data")&&typeof Fe.data=="string"?Je({type:"warning",message:Fe.data}):Je({type:"warning",message:Fe.message});const Ot=(0,Ct.Iz)(Fe);De({type:"SET_ERRORS",errors:Ot})}finally{rt()}},setField:(Ne,Ie)=>{De({type:"ON_CHANGE",keys:Ne,value:Ie})}}]},qt=()=>(0,t.useContext)(i.$l),Gt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Ht=()=>{const{latestStrapiReleaseTag:m,shouldUpdateStrapi:c}=useAppInfos(),r=useNotification();return useEffect(()=>{c&&Gt&&r({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${m}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[m,c,r]),null},Ps=null,$t=()=>(0,t.useContext)(i.Rj),Mt=(m,c)=>{const[r,L]=(0,t.useState)(!1),I=(0,f.useNotification)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:k}}}=await $e.be.post(`/admin/api-tokens/${m}/regenerate`);L(!1),c(k)}catch(k){L(!1),I({type:"warning",message:(0,ae.get)(k,"response.data.message","notification.error")})}},isLoadingConfirmation:r}}},40928:(j,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t=[]},88506:(j,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t=[]},36206:(j,E,e)=>{"use strict";e.d(E,{sg:()=>C,bU:()=>W,ZP:()=>w});var t=e(67294),i=e(71893),o=e(45697),v=e.n(o),f=e(41580),g=e(11047),T=e(97132),b=e(17205),Z=e(50592);const B=()=>{const{changeLocale:P,localeNames:K}=(0,Z.Z)(),{locale:pe}=(0,T.useIntl)();return t.createElement(b.O,{label:K[pe]},Object.keys(K).map(p=>t.createElement(b.s,{onClick:()=>P(p),key:p},K[p])))},y=(0,i.default)(f.x)`
  margin: 0 auto;
  width: 552px;
`,C=(0,i.default)(g.k)`
  flex-direction: column;
`,W=({children:P})=>t.createElement(y,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},P);W.propTypes={children:v().node.isRequired};const A=({children:P})=>t.createElement("div",null,t.createElement(g.k,{as:"header",justifyContent:"flex-end"},t.createElement(f.x,{paddingTop:6,paddingRight:8},t.createElement(B,null))),t.createElement(f.x,{paddingTop:2,paddingBottom:11},P));A.propTypes={children:v().node.isRequired};const w=A},77981:(j,E,e)=>{"use strict";e.d(E,{Z:()=>i});const i=[]},68070:(j,E,e)=>{"use strict";e.d(E,{Z:()=>v});var t=e(71893),i=e(25752);const v=(0,t.default)(i.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:f})=>f.colors.neutral600};
    }
  }
`},29773:(j,E,e)=>{"use strict";e.d(E,{Z:()=>Ue});var t=e(67294),i=e(68547),o=e.n(i),v=e(94123),f=e(8934),g=e(41580),T=e(7681),b=e(185),Z=e(11047),Y=e(29728),B=e(16364),y=e(36213),C=e(75515),W=e(45697),A=e.n(W),w=e(97132),P=e(71893),K=e(80831),pe=e(36206),p=e(79690),Te=e(68070);const xe=(0,P.default)(B.o)`
  ::-ms-reveal {
    display: none;
  }
`,fe=({onSubmit:a,schema:Pe,children:M})=>{const[S,G]=(0,t.useState)(!1),{formatMessage:$}=(0,w.useIntl)();return t.createElement(b.o,null,t.createElement(pe.bU,null,t.createElement(K.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:a,validationSchema:Pe,validateOnChange:!1},({values:_,errors:Ee,handleChange:oe})=>t.createElement(i.Form,{noValidate:!0},t.createElement(pe.sg,null,t.createElement(p.Z,null),t.createElement(g.x,{paddingTop:6,paddingBottom:1},t.createElement(C.Z,{variant:"alpha",as:"h1"},$({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(g.x,{paddingBottom:7},t.createElement(C.Z,{variant:"epsilon",textColor:"neutral600"},$({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),Ee.errorMessage&&t.createElement(C.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},Ee.errorMessage)),t.createElement(T.K,{spacing:6},t.createElement(B.o,{error:Ee.email?$({id:Ee.email,defaultMessage:"This value is required."}):"",value:_.email,onChange:oe,label:$({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:$({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(xe,{error:Ee.password?$({id:Ee.password,defaultMessage:"This value is required."}):"",onChange:oe,value:_.password,label:$({id:"global.password",defaultMessage:"Password"}),name:"password",type:S?"text":"password",endAction:t.createElement(Te.Z,{onClick:F=>{F.stopPropagation(),G(ie=>!ie)},label:$(S?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},S?t.createElement(f.default,null):t.createElement(v.default,null)),required:!0}),t.createElement(y.X,{onValueChange:F=>{oe({target:{value:F,name:"rememberMe"}})},value:_.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},$({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(Y.z,{fullWidth:!0,type:"submit"},$({id:"Auth.form.button.login",defaultMessage:"Login"}))))),M),t.createElement(Z.k,{justifyContent:"center"},t.createElement(g.x,{paddingTop:4},t.createElement(i.Link,{to:"/auth/forgot-password"},$({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};fe.defaultProps={children:null,onSubmit(){}},fe.propTypes={children:A().node,onSubmit:A().func,schema:A().shape({type:A().string.isRequired}).isRequired};const Ue=fe},73347:(j,E,e)=>{"use strict";e.d(E,{Z:()=>T});var t=e(67294),i=e(45697),o=e.n(i),v=e(29773),f=e(36206);const g=b=>t.createElement(f.ZP,null,t.createElement(v.Z,{...b}));g.defaultProps={onSubmit:b=>b.preventDefault()},g.propTypes={onSubmit:o().func};const T=g},23330:(j,E,e)=>{"use strict";e.r(E),e.d(E,{default:()=>y});var t=e(67294),i=e(68547),o=e.n(i),v=e(185),f=e(67838),g=e(49066),T=e(89722),b=e(20550),Z=e(37323),Y=e(97132);const y=()=>{const{formatMessage:C}=(0,Y.useIntl)();return(0,i.useFocusWhenNavigate)(),t.createElement(v.o,{labelledBy:"title"},t.createElement(f.T,{id:"title",title:C({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(g.D,null,t.createElement(T.x,{action:t.createElement(i.LinkButton,{variant:"secondary",endIcon:t.createElement(Z.Z,null),to:"/"},C({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:C({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(b.default,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(j,E,e)=>{"use strict";e.d(E,{Z:()=>t});const t={}},27858:(j,E,e)=>{"use strict";e.d(E,{Z:()=>i});const i=({data:o})=>{try{return Object.keys(o).reduce((v,f)=>{const g=o[f][0];return v[f]={id:g,defaultMessage:g},v},{})}catch{return{}}}},38683:(j,E,e)=>{"use strict";e.d(E,{R6:()=>o,ot:()=>B,Iz:()=>y.Z,Pp:()=>Ue,IF:()=>fe,Qy:()=>Pe,WW:()=>P});var t=e(68547);const o=async(M,S)=>{let G=null;try{await S.validate(M,{abortEarly:!1})}catch($){G=(0,t.getYupInnerErrors)($)}return G};var v=e(67294),f=e(45697),g=e.n(f),T=e(49656),b=e(25108);const Z=({loadComponent:M})=>{const[S,G]=(0,v.useState)(null);return(0,v.useEffect)(()=>{(async()=>{try{const _=await M();G(()=>_.default)}catch(_){b.log(_)}})()},[M]),S?v.createElement(S,null):v.createElement(t.LoadingIndicatorPage,null)},Y=(M,S,G)=>v.createElement(T.Route,{render:()=>v.createElement(Z,{loadComponent:M}),key:S,path:S,exact:G||!1});Z.propTypes={loadComponent:g().func.isRequired};const B=Y;var y=e(27858),C=e(96486);const W=M=>{const S=get(M,["options","timestamps"]);let G=Array.isArray(S)?S:[];const _=[...["id","_id"],...G,"publishedAt"],Ee=get(M,["attributes"],{});return Object.keys(Ee).reduce((oe,F)=>(_.includes(F)||oe.push({...Ee[F],attributeName:F}),oe),[])},A=null,P=M=>M.filter((S,G,$)=>$.findIndex(_=>_.key===S.key)===G),K=M=>sortBy(M,S=>S.name),pe=null,p=M=>Array.from(new Set(Object.entries(M).reduce((S,G)=>{const $=_=>_.reduce((Ee,oe)=>{let F=Ee;return oe.actions&&(F=[...F,...oe.actions]),typeof oe=="object"&&!oe.actions&&(F=[...F,...Object.keys(oe)]),F},[]);return[...S,...$([...Object.values(G[1].attributes||{}),get(G[1],"contentTypeActions",{})])]},[]))),Te=null,fe=M=>`/admin/${M}`,Ue=(M,S="")=>[M,S].filter(G=>G).join(" "),a={bufferToHex(M){return[...new Uint8Array(M)].map(S=>S.toString(16).padStart(2,"0")).join("")},async digestMessage(M){const S=new TextEncoder().encode(M),G=await crypto.subtle.digest("SHA-256",S);return this.bufferToHex(G)}};async function Pe(M){if(!M)return null;try{return await a.digestMessage(M.email)}catch{return null}}},90594:(j,E,e)=>{"use strict";e.d(E,{p:()=>Y});var t=e(67294),i=e(68547),o=e(38683),v=e(60612);const f={data:[],isLoading:!0},T=(B,y)=>(0,v.default)(B,C=>{switch(y.type){case"GET_DATA_SUCCEEDED":{C.data=y.data,C.isLoading=!1;break}case"GET_DATA_ERROR":{C.isLoading=!1;break}default:return C}});var b=e(25108);const Y=({ssoEnabled:B})=>{const[y,C]=(0,t.useReducer)(T,f),W=(0,i.useNotification)();(0,t.useEffect)(()=>{A()},[]);const A=async()=>{try{if(!B){C({type:"GET_DATA_SUCCEEDED",data:[]});return}const w=(0,o.IF)("providers"),P=await(0,i.request)(w,{method:"GET"});C({type:"GET_DATA_SUCCEEDED",data:P})}catch(w){b.error(w),C({type:"GET_DATA_ERROR"}),W({type:"warning",message:{id:"notification.error"}})}};return y}},95662:(j,E,e)=>{"use strict";e.d(E,{Z:()=>v});var t=e(87751);const v=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main}]:[]]},8353:(j,E,e)=>{"use strict";e.d(E,{Z:()=>v});var t=e(87751);const v=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]]},35499:(j,E,e)=>{"use strict";e.d(E,{Z:()=>B});var t=e(67294),i=e(49656),o=e(97132),v=e(36808),f=e.n(v),g=e(68547),T=e(38683);const Z=()=>{const{params:{authResponse:y}}=(0,i.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:C}=(0,o.useIntl)(),{push:W}=(0,i.useHistory)(),A=(0,t.useRef)(C);let w=(0,t.useCallback)(()=>{W(`/auth/oops?info=${encodeURIComponent(A.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[W]);const P=(0,t.useCallback)(async()=>{try{const K=f().get("jwtToken");if(g.auth.clearAppStorage(),K){g.auth.setToken(K,!0);const pe=(0,T.IF)("users/me"),{data:p}=await(0,g.request)(pe,{method:"GET"});g.auth.setUserInfo(p,!0),f().remove("jwtToken"),W("/auth/login")}}catch{w()}},[W,w]);return(0,t.useEffect)(()=>{y==="error"&&w(),y==="success"&&P()},[y,P,w]),t.createElement(g.LoadingIndicatorPage,null)},B=[{Component:()=>({default:Z}),to:"/auth/login/:authResponse",exact:!0}]},9442:(j,E,e)=>{"use strict";e.d(E,{Z:()=>P});var t=e(67294),i=e(45697),o=e.n(i),v=e(71893),f=e(41580),g=e(11047),T=e(70004),b=e(7681),Z=e(75515),Y=e(97132),B=e(29773),y=e(90594),C=e(36206),W=e(51780);const A=(0,v.default)(T.i)`
  flex: 1;
`,w=K=>{const pe=strapi.features.isEnabled(strapi.features.SSO),{isLoading:p,data:Te}=(0,y.p)({ssoEnabled:pe}),{formatMessage:xe}=(0,Y.useIntl)();return!pe||!p&&Te.length===0?t.createElement(C.ZP,null,t.createElement(B.Z,{...K})):t.createElement(C.ZP,null,t.createElement(B.Z,{...K},t.createElement(f.x,{paddingTop:7},t.createElement(b.K,{spacing:7},t.createElement(g.k,null,t.createElement(A,null),t.createElement(f.x,{paddingLeft:3,paddingRight:3},t.createElement(Z.Z,{variant:"sigma",textColor:"neutral600"},xe({id:"Auth.login.sso.divider"}))),t.createElement(A,null)),t.createElement(W.Z,{providers:Te,displayAllProviders:!1})))))};w.defaultProps={onSubmit:K=>K.preventDefault(),requestError:null},w.propTypes={formErrors:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired,onSubmit:o().func,requestError:o().object};const P=w},51780:(j,E,e)=>{"use strict";e.d(E,{Z:()=>w});var t=e(67294),i=e(45697),o=e.n(i),v=e(11276),f=e(74571),g=e(11047),T=e(75515),b=e(84495),Z=e(71893),Y=e(97132),B=e(49656);const y=Z.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:P})=>P.colors.neutral150};
  border-radius: ${({theme:P})=>P.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:P})=>P.colors.neutral600};
`,C=(0,Z.default)(g.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:P})=>P.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:P})=>P.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:P})=>P.spaces[2]};
  }
`,W=({provider:P})=>t.createElement(b.u,{label:P.displayName},t.createElement(y,{href:`${strapi.backendURL}/admin/connect/${P.uid}`},P.icon?t.createElement("img",{src:P.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(T.Z,null,P.displayName)));W.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const A=({providers:P,displayAllProviders:K})=>{const{formatMessage:pe}=(0,Y.useIntl)();return K?t.createElement(v.r,{gap:4},P.map(p=>t.createElement(f.P,{key:p.uid,col:4},t.createElement(W,{provider:p})))):P.length>2&&!K?t.createElement(v.r,{gap:4},P.slice(0,2).map(p=>t.createElement(f.P,{key:p.uid,col:4},t.createElement(W,{provider:p}))),t.createElement(f.P,{col:4},t.createElement(b.u,{label:pe({id:"global.see-more"})},t.createElement(y,{as:B.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(C,{justifyContent:"center"},P.map(p=>t.createElement(W,{key:p.uid,provider:p})))};A.defaultProps={displayAllProviders:!0},A.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const w=A},98837:(j,E,e)=>{"use strict";e.d(E,{Z:()=>fe});var t=e(67294),i=e(49656),o=e(71893),v=e(68547),f=e(70004),g=e(7681),T=e(11047),b=e(41580),Z=e(29728),Y=e(88655),B=e(75515),y=e(185),C=e(97132),W=e(90594),A=e(36206),w=e(51780),P=e(79690);const K=(0,o.default)(f.i)`
  flex: 1;
`,p=()=>{const Ue=strapi.features.isEnabled(strapi.features.SSO),{push:a}=(0,i.useHistory)(),{formatMessage:Pe}=(0,C.useIntl)(),{isLoading:M,data:S}=(0,W.p)({ssoEnabled:Ue}),G=()=>{a("/auth/login")};return!Ue||!M&&S.length===0?t.createElement(i.Redirect,{to:"/auth/login"}):t.createElement(A.ZP,null,t.createElement(y.o,null,t.createElement(A.bU,null,t.createElement(A.sg,null,t.createElement(P.Z,null),t.createElement(b.x,{paddingTop:6,paddingBottom:1},t.createElement(B.Z,{as:"h1",variant:"alpha"},Pe({id:"Auth.form.welcome.title"}))),t.createElement(b.x,{paddingBottom:7},t.createElement(B.Z,{variant:"epsilon",textColor:"neutral600"},Pe({id:"Auth.login.sso.subtitle"})))),t.createElement(g.K,{spacing:7},M?t.createElement(T.k,{justifyContent:"center"},t.createElement(Y.a,null,Pe({id:"Auth.login.sso.loading"}))):t.createElement(w.Z,{providers:S}),t.createElement(T.k,null,t.createElement(K,null),t.createElement(b.x,{paddingLeft:3,paddingRight:3},t.createElement(B.Z,{variant:"sigma",textColor:"neutral600"},Pe({id:"or"}))),t.createElement(K,null)),t.createElement(Z.z,{fullWidth:!0,size:"L",onClick:G},Pe({id:"Auth.form.button.login.strapi"})))),t.createElement(T.k,{justifyContent:"center"},t.createElement(b.x,{paddingTop:4},t.createElement(v.Link,{to:"/auth/forgot-password"},t.createElement(B.Z,{variant:"pi"},Pe({id:"Auth.link.forgot-password"})))))))};var Te=e(42243);const fe={...Te.Z,providers:{Component:p,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(j,E,e)=>{"use strict";e.d(E,{Z:()=>i});const i={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(j,E,e)=>{"use strict";j.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
